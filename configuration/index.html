<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article data-r-output-format=html><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.152.2"><meta name=generator content="Relearn 7.6.1+0b83617ee9da5253aafcf11807b256da7d88d709"><meta name=description content='CONFIG DESCRIPTION DEFAULT ENV –config value path the a configuration file PROXY_CONFIG_FILE –listen value Defines the binding interface for main listener, e.g. {address}:{port}. This is required and there is no default value PROXY_LISTEN –listen-http value interface we should be listening to for HTTP traffic PROXY_LISTEN_HTTP –listen-admin value defines the interface to bind admin-only endpoint (live-status, debug, prometheus…). If not defined, this defaults to the main listener defined by Listen PROXY_LISTEN_ADMIN –listen-admin-scheme value scheme to serve admin-only endpoint (http or https). PROXY_LISTEN_ADMIN_SCHEME –discovery-url value discovery url to retrieve the openid configuration PROXY_DISCOVERY_URL –client-id value client id used to authenticate to the oauth service PROXY_CLIENT_ID –client-secret value client secret used to authenticate to the oauth service PROXY_CLIENT_SECRET –redirection-url value redirection url for the oauth callback url, defaults to host header if absent PROXY_REDIRECTION_URL –post-logout-redirect-uri value url to which client is redirected after successful logout PROXY_POST_LOGOUT_REDIRECT_URI –post-login-redirect-path value post-login-redirect-path" usage:“path to which client is redirected after successful login, in case user access / PROXY_POST_LOGIN_REDIRECT_PATH –revocation-url value url for the revocation endpoint to revoke refresh token PROXY_REVOCATION_URL –skip-openid-provider-tls-verify skip the verification of any TLS communication with the openid provider false PROXY_SKIP_OPENID_PROVIDER_TLSVERIFY –tls-openid-provider-ca-certificate path to the ca certificate for IDP PROXY_TLS_OPENID_PROVIDER_CA_CERTIFICATE –tls-openid-provider-client-private-key path to the client private key for IDP PROXY_TLS_OPENID_PROVIDER_CLIENT_PRIVATE_KEY –tls-openid-provider-client-certificate path to the client certificate for IDP PROXY_TLS_OPENID_PROVIDER_CLIENT_CERTIFICATE –openid-provider-proxy value proxy for communication with the openid provider PROXY_OPENID_PROVIDER_PROXY –openid-provider-timeout value timeout for openid configuration on .well-known/openid-configuration 30s PROXY_OPENID_PROVIDER_TIMEOUT –openid-provider-retry-count value number of retries for retrieving openid configuration 3 PROXY_OPENID_PROVIDER_RETRY_COUNT –openid-provider-headers value http headers sent to idp provider –upstream-proxy proxy for communication with upstream PROXY_UPSTREAM_PROXY –upstream-no-proxy list of upstream destinations which should be not proxied PROXY_UPSTREAM_NO_PROXY –base-uri value common prefix for all URIs PROXY_BASE_URI –oauth-uri value the uri for proxy oauth endpoints /oauth PROXY_OAUTH_URI –scopes value list of scopes requested when authenticating the user –upstream-url value url for the upstream endpoint you wish to proxy PROXY_UPSTREAM_URL –upstream-ca value the path to a file container a CA certificate to validate the upstream tls endpoint PROXY_UPSTREAM_CA –resources value list of resources ‘uri=/admin*|methods=GET,PUT|roles=role1,role2’ –headers value custom headers to the upstream request, key=value –preserve-host preserve the host header of the proxied request in the upstream request false PROXY_PRESERVE_HOST –request-id-header value the http header name for request id X-Request-ID PROXY_REQUEST_ID_HEADER –response-headers value custom headers to added to the http response key=value PROXY_RESPONSE_HEADERS –custom-http-methods list of additional non-standard http methods –allowed-query-params allowed query params, sent to IDP key=optional value –default-allowed-query-params default allowed query params, sent to IDP key=required-value –enable-self-signed-tls create self signed certificates for the proxy false PROXY_ENABLE_SELF_SIGNED_TLS –self-signed-tls-hostnames value a list of hostnames to place on the self-signed certificate –self-signed-tls-expiration value the expiration of the certificate before rotation 3h0m0s PROXY_SELF_SIGNED_TLS_EXPIRATION –enable-request-id indicates we should add a request id if none found false PROXY_ENABLE_REQUEST_ID –enable-logout-redirect indicates we should redirect to the identity provider for logging out false PROXY_ENABLE_LOGOUT_REDIRECT –enable-default-deny enables a default denial on all requests, requests with valid token are permitted, you have to explicitly say what is permitted true PROXY_ENABLE_DEFAULT_DENY –enable-default-deny-strict enables a default denial on all requests, requests with valid token are denied, you have to explicitly say what is permitted (recommended) false PROXY_ENABLE_DEFAULT_DENY_STRICT –enable-encrypted-token enable encryption for the access tokens true PROXY_ENABLE_ENCRYPTED_TOKEN –force-encrypted-cookie force encryption for the access tokens in cookies false PROXY_FORCE_ENCRYPTED_COOKIE –enable-logging enable http logging of the requests false PROXY_ENABLE_LOGGING –enable-json-logging switch on json logging rather than text true PROXY_ENABLE_JSON_LOGGING –enable-forwarding enables the forwarding proxy mode, signing outbound request false PROXY_ENABLE_FORWARDING –enable-security-filter enables the security filter handler false PROXY_ENABLE_SECURITY_FILTER –enable-refresh-tokens enables the handling of the refresh tokens false PROXY_ENABLE_REFRESH_TOKEN –enable-session-cookies access and refresh tokens are session only i.e. removed browser close true PROXY_ENABLE_SESSION_COOKIES –enable-login-handler enables the handling of the refresh tokens false PROXY_ENABLE_LOGIN_HANDLER –enable-register-handler enables the handling of registration false PROXY_ENABLE_REGISTER_HANDLER –enable-token-header enables the token authentication header X-Auth-Token to upstream true PROXY_ENABLE_TOKEN_HEADER –enable-authorization-header adds the authorization header to the proxy request true PROXY_ENABLE_AUTHORIZATION_HEADER –enable-header-encoding encodes header values according RFC 2047, in MIME B format false PROXY_ENABLE_HEADER_ENCODING –enable-authorization-cookies adds the authorization cookies to the uptream proxy request true PROXY_ENABLE_AUTHORIZATION_COOKIES –enable-https-redirection enable the http to https redirection on the http service false PROXY_ENABLE_HTTPS_REDIRECT –enable-profiling switching on the golang profiling via pprof on /debug/pprof, /debug/pprof/heap etc false PROXY_ENABLE_PROFILING –enable-metrics enable the prometheus metrics collector on /oauth/metrics false PROXY_ENABLE_METRICS –filter-browser-xss enable the adds the X-XSS-Protection header with mode=block false PROXY_ENABLE_BROWSER_XSS_FILTER –filter-content-nosniff adds the X-Content-Type-Options header with the value nosniff false PROXY_ENABLE_CONTENT_NO_SNIFF –filter-frame-deny enable to the frame deny header false PROXY_ENABLE_FRAME_DENY –content-security-policy value specify the content security policy PROXY_CONTENT_SECURITY_POLICY –localhost-metrics enforces the metrics page can only been requested from 127.0.0.1 false PROXY_LOCALHOST_METRICS –enable-compression enable gzip compression for response false PROXY_ENABLE_COMPRESSION –enable-pkce enable pkce for auth code flow, only S256 code challenge supported true PROXY_ENABLE_PKCE –enable-idp-session-check during token validation it also checks if user session is still present, useful for multi app logout true PROXY_ENABLE_IDP_SESSION_CHECK –enable-uma enable UMA authorization, please don’t use in production as it is new feature, we would like to receive feedback first false PROXY_ENABLE_UMA –enable-opa enable authorization with external Open policy agent false PROXY_ENABLE_OPA –opa-timeout timeout for connection to OPA 10s PROXY_OPA_TIMEOUT –opa-authz-uri OPA endpoint address with path PROXY_OPA_AUTHZ_URI –pat-retry-count number of retries to get PAT 5 PROXY_PAT_RETRY_COUNT –pat-retry-interval interval between retries to get PAT 2s PROXY_PAT_RETRY_INTERVAL –access-token-duration value fallback cookie duration for the access token when using refresh tokens 720h0m0s PROXY_ACCESS_TOKEN_DURATION –cookie-domain value domain the access cookie is available to, defaults host header PROXY_COOKIE_DOMAIN –cookie-path value path to which cookie is available PROXY_COOKIE_PATH –cookie-access-name value name of the cookie use to hold the access token kc-access PROXY_COOKIE_ACCESS_NAME –cookie-refresh-name value name of the cookie used to hold the encrypted refresh token kc-state PROXY_COOKIE_REFRESH_NAME –cookie-oauth-state-name value name of the cookie used to hold the Oauth request state OAuth_Token_Request_State COOKIE_OAUTH_STATE_NAME –cookie-request-uri-name value name of the cookie used to hold the request uri request_uri COOKIE_REQUEST_URI_NAME –cookie-pkce-name value name of the cookie used to hold PKCE code verifier pkce COOKIE_PKCE_NAME –secure-cookie enforces the cookie to be secure true PROXY_SECURE_COOKIE –http-only-cookie enforces the cookie is in http only mode true PROXY_HTTP_ONLY_COOKIE –same-site-cookie value enforces cookies to be send only to same site requests according to the policy (can be | Strict|Lax|None) Lax PROXY_SAME_SITE_COOKIE –enable-id-token-cookie enable id token cookie false PROXY_ENABLE_IDTOKEN_COOKIE –match-claims value keypair values for matching access token claims e.g. aud=myapp, iss=http://example.* –add-claims value extra claims from the token and inject into headers, e.g given_name -> X-Auth-Given-Name –enable-uma-method-scope enables passing request method as ‘method:GET’ scope to keycloak for authorization false PROXY_ENABLE_UMA_METHOD_SCOPE –tls-min-version specify server minimal TLS version one of tlsv1.2,tlsv1.3 TLS_MIN_VERSION –tls-cert path to the TLS certificate tls-cert –tls-private-key path to the private key for TLS tls-private-key –tls-client-certificate path to the client certificate used for authenticating to upstream PROXY_TLS_CLIENT_CERTIFICATE –tls-client-private-key path to the client private key, used for authentication to upstream PROXY_TLS_CLIENT_PRIVATE_KEY –tls-client-ca-certificate path to the client CA certificate, used for verifying client certificates PROXY_TLS_CLIENT_CA_CERTIFICATE –tls-forwarding-ca-certificate path to the CA certificate, used for generating server cert for forwarding-proxy PROXY_TLS_FORWARDING_CA_CERTIFICATE –tls-forwarding-ca-private-key path to the CA private key, used for generating server cert for forwarding proxy PROXY_TLS_FORWARDING_CA_PRIVATE_KEY –tls-store-ca-certificate path to the ca certificate used for verifying trusted server certificates PROXY_TLS_STORE_CA_CERTIFICATE –tls-store-client-certificate path to the client certificate, used for authenticating to store PROXY_TLS_STORE_CLIENT_CERTIFICATE –tls-store-client-private-key path to the client private key, used for authenticating to store PROXY_TLS_STORE_CLIENT_PRIVATE_KEY –skip-upstream-tls-verify skip the verification of any upstream TLS false PROXY_SKIP_UPSTREAM_TLS_VERIFY –tls-admin-cert value path to ths TLS certificate PROXY_TLS_ADMIN_CERTIFICATE –tls-admin-private-key value path to the private key for TLS PROXY_TLS_ADMIN_PRIVATE_KEY –tls-admin-client-ca-certificate value path to the client certificate for outbound connections in reverse and forwarding proxy modes PROXY_TLS_ADMIN_CLIENT_CERTIFICATE –cors-origins value origins to add to the CORE origins control (Access-Control-Allow-Origin) –cors-methods value methods permitted in the access control (Access-Control-Allow-Methods) –cors-headers value set of headers to add to the CORS access control (Access-Control-Allow-Headers) –cors-exposed-headers value expose cors headers access control (Access-Control-Expose-Headers) –cors-credentials credentials access control header (Access-Control-Allow-Credentials) false PROXY_CORS_CREDENTIALS –cors-max-age value max age applied to cors headers (Access-Control-Max-Age) 0s PROXY_CORS_MAX_AGE –hostnames value list of hostnames the service will respond to –store-url value url for the storage subsystem, e.g redis://user:secret@localhost:6379/0?protocol=3, only supported is redis usig redis uri spec PROXY_STORE_URL –encryption-key value encryption key used to encryption the session state PROXY_ENCRYPTION_KEY –enable-hmac enable creating hmac for forwarded requests and verification on incoming requests false PROXY_ENABLE_HMAC –no-proxy value do not proxy requests to upstream, useful for forward-auth usage (with nginx, traefik) PROXY_NO_PROXY –no-redirects do not have back redirects when no authentication is present, 401 them false PROXY_NO_REDIRECTS –skip-token-verification TESTING ONLY; bypass token verification, only expiration and roles enforced false PROXY_SKIP_TOKEN_VERIFICATION –skip-access-token-issuer-check according RFC issuer should not be checked on access token, this will be default true in future true PROXY_SKIP_ACCESS_TOKEN_ISSUER_CHECK –skip-access-token-clientid-check according RFC client id should not be checked on access token, this will be default true in future true PROXY_SKIP_ACCESS_TOKEN_CLIENT_ID_CHECK –skip-authorization-header-identity skip authorization header identity, means that we won’t be extracting token from authorization header, only from cookie or fail if even no cookie present (e.g. if authorization header is used only by application behind gatekeeper)"` false PROXY_SKIP_AUTHORIZATION_HEADER_IDENTITY –upstream-keepalives enables or disables the keepalive connections for upstream endpoint true PROXY_UPSTREAM_KEEPALIVES –upstream-timeout value maximum amount of time a dial will wait for a connect to complete 10s PROXY_UPSTREAM_TIMEOUT –upstream-keepalive-timeout value specifies the keep-alive period for an active network connection 10s PROXY_UPSTREAM_KEEPALIVE_TIMEOUT –upstream-tls-handshake-timeout value the timeout placed on the tls handshake for upstream 10s PROXY_UPSTREAM_TLS_HANDSHAKE_TIMEOUT –upstream-response-header-timeout value the timeout placed on the response header for upstream 10s PROXY_UPSTREAM_RESPONSE_HEADER_TIMEOUT –upstream-expect-continue-timeout value the timeout placed on the expect continue for upstream 10s PROXY_UPSTREAM_EXPECT_CONTINUE_TIMEOUT –verbose switch on debug / verbose logging false PROXY_VERBOSE –enabled-proxy-protocol enable proxy protocol false PROXY_ENABLE_PROXY_PROTOCOL –max-idle-connections value max idle upstream / keycloak connections to keep alive, ready for reuse 0 PROXY_MAX_IDLE_CONNS –max-idle-connections-per-host value limits the number of idle connections maintained per host 0 PROXY_MAX_IDLE_CONNS_PER_HOST –server-grace-timeout value the server graceful period before shutdown 10s PROXY_SERVER_GRACE_TIMEOUT –server-read-timeout value the server read timeout on the http server 10s PROXY_SERVER_READ_TIMEOUT –server-write-timeout value the server write timeout on the http server 10s PROXY_SERVER_WRITE_TIMEOUT –server-idle-timeout value the server idle timeout on the http server 2m0s PROXY_SERVER_IDLE_TIMEOUT –use-letsencrypt use letsencrypt for certificates false PROXY_USE_LETS_ENCRYPT –letsencrypt-cache-dir value path where cached letsencrypt certificates are stored ./cache/ PROXY_LETS_ENCRYPT_CACHE_DIR –sign-in-page value path to custom template displayed for signin PROXY_SIGN_IN_PAGE –register-page value path to custom template displayed for registration PROXY_REGISTER_PAGE –forbidden-page value path to custom template used for access forbidden PROXY_FORBIDDEN_PAGE –error-page value path to custom template displayed for http.StatusBadRequest PROXY_ERROR_PAGE –tags value keypairs passed to the templates at render,e.g title=Page –forwarding-grant-type value grant-type to use when logging into the openid provider, can be one of password, client_credentials password PROXY_FORWARDING_GRANT_TYPE –forwarding-username value username to use when logging into the openid provider PROXY_FORWARDING_USERNAME –forwarding-password value password to use when logging into the openid provider PROXY_FORWARDING_PASSWORD –enable-signing enable signing of requests to upstream, when in reverse proxy mode false PROXY_ENABLE_SIGNING –enable-signing-hmac enable signing of requests to upstream, when in reverse proxy mode with HMAC false PROXY_ENABLE_SIGNING_HMAC –forwarding-domains value list of domains which should be signed; everything else is relayed unsigned –enable-x-forwarded-headers enable using X-Forwarded headers (host and proto) for callback and authorization url false PROXY_ENABLE_X_FORWARDED_HEADERS –enable-optional-encryption enable optional decryption for access tokens, id tokens, refresh tokens false PROXY_ENABLE_OPTIONAL_ENCRYPTION –enable-logout-auth enable authentication on logout handler true PROXY_ENABLE_LOGOUT_AUTH –enable-request-upstream-compression enables asking upstream for compression, by adding Accept-Encoding: gzip header and decompressing response from upstream true PROXY_ENABLE_REQUEST_UPSTREAM_COMPRESSION –enable-accept-encoding-header pass Accept-Encoding header from client to upstream false PROXY_ENABLE_ACCEPT_ENCODING_HEADER –enable-loa enable level of authentication false –disable-all-logging disables all logging to stdout and stderr false PROXY_DISABLE_ALL_LOGGING –help, -h show help –version, -v print the version'><meta name=author content="gogatekeeper"><meta name=twitter:card content="summary"><meta name=twitter:title content="Configuration Reference - Gatekeeper"><meta name=twitter:description content='CONFIG DESCRIPTION DEFAULT ENV –config value path the a configuration file PROXY_CONFIG_FILE –listen value Defines the binding interface for main listener, e.g. {address}:{port}. This is required and there is no default value PROXY_LISTEN –listen-http value interface we should be listening to for HTTP traffic PROXY_LISTEN_HTTP –listen-admin value defines the interface to bind admin-only endpoint (live-status, debug, prometheus…). If not defined, this defaults to the main listener defined by Listen PROXY_LISTEN_ADMIN –listen-admin-scheme value scheme to serve admin-only endpoint (http or https). PROXY_LISTEN_ADMIN_SCHEME –discovery-url value discovery url to retrieve the openid configuration PROXY_DISCOVERY_URL –client-id value client id used to authenticate to the oauth service PROXY_CLIENT_ID –client-secret value client secret used to authenticate to the oauth service PROXY_CLIENT_SECRET –redirection-url value redirection url for the oauth callback url, defaults to host header if absent PROXY_REDIRECTION_URL –post-logout-redirect-uri value url to which client is redirected after successful logout PROXY_POST_LOGOUT_REDIRECT_URI –post-login-redirect-path value post-login-redirect-path" usage:“path to which client is redirected after successful login, in case user access / PROXY_POST_LOGIN_REDIRECT_PATH –revocation-url value url for the revocation endpoint to revoke refresh token PROXY_REVOCATION_URL –skip-openid-provider-tls-verify skip the verification of any TLS communication with the openid provider false PROXY_SKIP_OPENID_PROVIDER_TLSVERIFY –tls-openid-provider-ca-certificate path to the ca certificate for IDP PROXY_TLS_OPENID_PROVIDER_CA_CERTIFICATE –tls-openid-provider-client-private-key path to the client private key for IDP PROXY_TLS_OPENID_PROVIDER_CLIENT_PRIVATE_KEY –tls-openid-provider-client-certificate path to the client certificate for IDP PROXY_TLS_OPENID_PROVIDER_CLIENT_CERTIFICATE –openid-provider-proxy value proxy for communication with the openid provider PROXY_OPENID_PROVIDER_PROXY –openid-provider-timeout value timeout for openid configuration on .well-known/openid-configuration 30s PROXY_OPENID_PROVIDER_TIMEOUT –openid-provider-retry-count value number of retries for retrieving openid configuration 3 PROXY_OPENID_PROVIDER_RETRY_COUNT –openid-provider-headers value http headers sent to idp provider –upstream-proxy proxy for communication with upstream PROXY_UPSTREAM_PROXY –upstream-no-proxy list of upstream destinations which should be not proxied PROXY_UPSTREAM_NO_PROXY –base-uri value common prefix for all URIs PROXY_BASE_URI –oauth-uri value the uri for proxy oauth endpoints /oauth PROXY_OAUTH_URI –scopes value list of scopes requested when authenticating the user –upstream-url value url for the upstream endpoint you wish to proxy PROXY_UPSTREAM_URL –upstream-ca value the path to a file container a CA certificate to validate the upstream tls endpoint PROXY_UPSTREAM_CA –resources value list of resources ‘uri=/admin*|methods=GET,PUT|roles=role1,role2’ –headers value custom headers to the upstream request, key=value –preserve-host preserve the host header of the proxied request in the upstream request false PROXY_PRESERVE_HOST –request-id-header value the http header name for request id X-Request-ID PROXY_REQUEST_ID_HEADER –response-headers value custom headers to added to the http response key=value PROXY_RESPONSE_HEADERS –custom-http-methods list of additional non-standard http methods –allowed-query-params allowed query params, sent to IDP key=optional value –default-allowed-query-params default allowed query params, sent to IDP key=required-value –enable-self-signed-tls create self signed certificates for the proxy false PROXY_ENABLE_SELF_SIGNED_TLS –self-signed-tls-hostnames value a list of hostnames to place on the self-signed certificate –self-signed-tls-expiration value the expiration of the certificate before rotation 3h0m0s PROXY_SELF_SIGNED_TLS_EXPIRATION –enable-request-id indicates we should add a request id if none found false PROXY_ENABLE_REQUEST_ID –enable-logout-redirect indicates we should redirect to the identity provider for logging out false PROXY_ENABLE_LOGOUT_REDIRECT –enable-default-deny enables a default denial on all requests, requests with valid token are permitted, you have to explicitly say what is permitted true PROXY_ENABLE_DEFAULT_DENY –enable-default-deny-strict enables a default denial on all requests, requests with valid token are denied, you have to explicitly say what is permitted (recommended) false PROXY_ENABLE_DEFAULT_DENY_STRICT –enable-encrypted-token enable encryption for the access tokens true PROXY_ENABLE_ENCRYPTED_TOKEN –force-encrypted-cookie force encryption for the access tokens in cookies false PROXY_FORCE_ENCRYPTED_COOKIE –enable-logging enable http logging of the requests false PROXY_ENABLE_LOGGING –enable-json-logging switch on json logging rather than text true PROXY_ENABLE_JSON_LOGGING –enable-forwarding enables the forwarding proxy mode, signing outbound request false PROXY_ENABLE_FORWARDING –enable-security-filter enables the security filter handler false PROXY_ENABLE_SECURITY_FILTER –enable-refresh-tokens enables the handling of the refresh tokens false PROXY_ENABLE_REFRESH_TOKEN –enable-session-cookies access and refresh tokens are session only i.e. removed browser close true PROXY_ENABLE_SESSION_COOKIES –enable-login-handler enables the handling of the refresh tokens false PROXY_ENABLE_LOGIN_HANDLER –enable-register-handler enables the handling of registration false PROXY_ENABLE_REGISTER_HANDLER –enable-token-header enables the token authentication header X-Auth-Token to upstream true PROXY_ENABLE_TOKEN_HEADER –enable-authorization-header adds the authorization header to the proxy request true PROXY_ENABLE_AUTHORIZATION_HEADER –enable-header-encoding encodes header values according RFC 2047, in MIME B format false PROXY_ENABLE_HEADER_ENCODING –enable-authorization-cookies adds the authorization cookies to the uptream proxy request true PROXY_ENABLE_AUTHORIZATION_COOKIES –enable-https-redirection enable the http to https redirection on the http service false PROXY_ENABLE_HTTPS_REDIRECT –enable-profiling switching on the golang profiling via pprof on /debug/pprof, /debug/pprof/heap etc false PROXY_ENABLE_PROFILING –enable-metrics enable the prometheus metrics collector on /oauth/metrics false PROXY_ENABLE_METRICS –filter-browser-xss enable the adds the X-XSS-Protection header with mode=block false PROXY_ENABLE_BROWSER_XSS_FILTER –filter-content-nosniff adds the X-Content-Type-Options header with the value nosniff false PROXY_ENABLE_CONTENT_NO_SNIFF –filter-frame-deny enable to the frame deny header false PROXY_ENABLE_FRAME_DENY –content-security-policy value specify the content security policy PROXY_CONTENT_SECURITY_POLICY –localhost-metrics enforces the metrics page can only been requested from 127.0.0.1 false PROXY_LOCALHOST_METRICS –enable-compression enable gzip compression for response false PROXY_ENABLE_COMPRESSION –enable-pkce enable pkce for auth code flow, only S256 code challenge supported true PROXY_ENABLE_PKCE –enable-idp-session-check during token validation it also checks if user session is still present, useful for multi app logout true PROXY_ENABLE_IDP_SESSION_CHECK –enable-uma enable UMA authorization, please don’t use in production as it is new feature, we would like to receive feedback first false PROXY_ENABLE_UMA –enable-opa enable authorization with external Open policy agent false PROXY_ENABLE_OPA –opa-timeout timeout for connection to OPA 10s PROXY_OPA_TIMEOUT –opa-authz-uri OPA endpoint address with path PROXY_OPA_AUTHZ_URI –pat-retry-count number of retries to get PAT 5 PROXY_PAT_RETRY_COUNT –pat-retry-interval interval between retries to get PAT 2s PROXY_PAT_RETRY_INTERVAL –access-token-duration value fallback cookie duration for the access token when using refresh tokens 720h0m0s PROXY_ACCESS_TOKEN_DURATION –cookie-domain value domain the access cookie is available to, defaults host header PROXY_COOKIE_DOMAIN –cookie-path value path to which cookie is available PROXY_COOKIE_PATH –cookie-access-name value name of the cookie use to hold the access token kc-access PROXY_COOKIE_ACCESS_NAME –cookie-refresh-name value name of the cookie used to hold the encrypted refresh token kc-state PROXY_COOKIE_REFRESH_NAME –cookie-oauth-state-name value name of the cookie used to hold the Oauth request state OAuth_Token_Request_State COOKIE_OAUTH_STATE_NAME –cookie-request-uri-name value name of the cookie used to hold the request uri request_uri COOKIE_REQUEST_URI_NAME –cookie-pkce-name value name of the cookie used to hold PKCE code verifier pkce COOKIE_PKCE_NAME –secure-cookie enforces the cookie to be secure true PROXY_SECURE_COOKIE –http-only-cookie enforces the cookie is in http only mode true PROXY_HTTP_ONLY_COOKIE –same-site-cookie value enforces cookies to be send only to same site requests according to the policy (can be | Strict|Lax|None) Lax PROXY_SAME_SITE_COOKIE –enable-id-token-cookie enable id token cookie false PROXY_ENABLE_IDTOKEN_COOKIE –match-claims value keypair values for matching access token claims e.g. aud=myapp, iss=http://example.* –add-claims value extra claims from the token and inject into headers, e.g given_name -> X-Auth-Given-Name –enable-uma-method-scope enables passing request method as ‘method:GET’ scope to keycloak for authorization false PROXY_ENABLE_UMA_METHOD_SCOPE –tls-min-version specify server minimal TLS version one of tlsv1.2,tlsv1.3 TLS_MIN_VERSION –tls-cert path to the TLS certificate tls-cert –tls-private-key path to the private key for TLS tls-private-key –tls-client-certificate path to the client certificate used for authenticating to upstream PROXY_TLS_CLIENT_CERTIFICATE –tls-client-private-key path to the client private key, used for authentication to upstream PROXY_TLS_CLIENT_PRIVATE_KEY –tls-client-ca-certificate path to the client CA certificate, used for verifying client certificates PROXY_TLS_CLIENT_CA_CERTIFICATE –tls-forwarding-ca-certificate path to the CA certificate, used for generating server cert for forwarding-proxy PROXY_TLS_FORWARDING_CA_CERTIFICATE –tls-forwarding-ca-private-key path to the CA private key, used for generating server cert for forwarding proxy PROXY_TLS_FORWARDING_CA_PRIVATE_KEY –tls-store-ca-certificate path to the ca certificate used for verifying trusted server certificates PROXY_TLS_STORE_CA_CERTIFICATE –tls-store-client-certificate path to the client certificate, used for authenticating to store PROXY_TLS_STORE_CLIENT_CERTIFICATE –tls-store-client-private-key path to the client private key, used for authenticating to store PROXY_TLS_STORE_CLIENT_PRIVATE_KEY –skip-upstream-tls-verify skip the verification of any upstream TLS false PROXY_SKIP_UPSTREAM_TLS_VERIFY –tls-admin-cert value path to ths TLS certificate PROXY_TLS_ADMIN_CERTIFICATE –tls-admin-private-key value path to the private key for TLS PROXY_TLS_ADMIN_PRIVATE_KEY –tls-admin-client-ca-certificate value path to the client certificate for outbound connections in reverse and forwarding proxy modes PROXY_TLS_ADMIN_CLIENT_CERTIFICATE –cors-origins value origins to add to the CORE origins control (Access-Control-Allow-Origin) –cors-methods value methods permitted in the access control (Access-Control-Allow-Methods) –cors-headers value set of headers to add to the CORS access control (Access-Control-Allow-Headers) –cors-exposed-headers value expose cors headers access control (Access-Control-Expose-Headers) –cors-credentials credentials access control header (Access-Control-Allow-Credentials) false PROXY_CORS_CREDENTIALS –cors-max-age value max age applied to cors headers (Access-Control-Max-Age) 0s PROXY_CORS_MAX_AGE –hostnames value list of hostnames the service will respond to –store-url value url for the storage subsystem, e.g redis://user:secret@localhost:6379/0?protocol=3, only supported is redis usig redis uri spec PROXY_STORE_URL –encryption-key value encryption key used to encryption the session state PROXY_ENCRYPTION_KEY –enable-hmac enable creating hmac for forwarded requests and verification on incoming requests false PROXY_ENABLE_HMAC –no-proxy value do not proxy requests to upstream, useful for forward-auth usage (with nginx, traefik) PROXY_NO_PROXY –no-redirects do not have back redirects when no authentication is present, 401 them false PROXY_NO_REDIRECTS –skip-token-verification TESTING ONLY; bypass token verification, only expiration and roles enforced false PROXY_SKIP_TOKEN_VERIFICATION –skip-access-token-issuer-check according RFC issuer should not be checked on access token, this will be default true in future true PROXY_SKIP_ACCESS_TOKEN_ISSUER_CHECK –skip-access-token-clientid-check according RFC client id should not be checked on access token, this will be default true in future true PROXY_SKIP_ACCESS_TOKEN_CLIENT_ID_CHECK –skip-authorization-header-identity skip authorization header identity, means that we won’t be extracting token from authorization header, only from cookie or fail if even no cookie present (e.g. if authorization header is used only by application behind gatekeeper)"` false PROXY_SKIP_AUTHORIZATION_HEADER_IDENTITY –upstream-keepalives enables or disables the keepalive connections for upstream endpoint true PROXY_UPSTREAM_KEEPALIVES –upstream-timeout value maximum amount of time a dial will wait for a connect to complete 10s PROXY_UPSTREAM_TIMEOUT –upstream-keepalive-timeout value specifies the keep-alive period for an active network connection 10s PROXY_UPSTREAM_KEEPALIVE_TIMEOUT –upstream-tls-handshake-timeout value the timeout placed on the tls handshake for upstream 10s PROXY_UPSTREAM_TLS_HANDSHAKE_TIMEOUT –upstream-response-header-timeout value the timeout placed on the response header for upstream 10s PROXY_UPSTREAM_RESPONSE_HEADER_TIMEOUT –upstream-expect-continue-timeout value the timeout placed on the expect continue for upstream 10s PROXY_UPSTREAM_EXPECT_CONTINUE_TIMEOUT –verbose switch on debug / verbose logging false PROXY_VERBOSE –enabled-proxy-protocol enable proxy protocol false PROXY_ENABLE_PROXY_PROTOCOL –max-idle-connections value max idle upstream / keycloak connections to keep alive, ready for reuse 0 PROXY_MAX_IDLE_CONNS –max-idle-connections-per-host value limits the number of idle connections maintained per host 0 PROXY_MAX_IDLE_CONNS_PER_HOST –server-grace-timeout value the server graceful period before shutdown 10s PROXY_SERVER_GRACE_TIMEOUT –server-read-timeout value the server read timeout on the http server 10s PROXY_SERVER_READ_TIMEOUT –server-write-timeout value the server write timeout on the http server 10s PROXY_SERVER_WRITE_TIMEOUT –server-idle-timeout value the server idle timeout on the http server 2m0s PROXY_SERVER_IDLE_TIMEOUT –use-letsencrypt use letsencrypt for certificates false PROXY_USE_LETS_ENCRYPT –letsencrypt-cache-dir value path where cached letsencrypt certificates are stored ./cache/ PROXY_LETS_ENCRYPT_CACHE_DIR –sign-in-page value path to custom template displayed for signin PROXY_SIGN_IN_PAGE –register-page value path to custom template displayed for registration PROXY_REGISTER_PAGE –forbidden-page value path to custom template used for access forbidden PROXY_FORBIDDEN_PAGE –error-page value path to custom template displayed for http.StatusBadRequest PROXY_ERROR_PAGE –tags value keypairs passed to the templates at render,e.g title=Page –forwarding-grant-type value grant-type to use when logging into the openid provider, can be one of password, client_credentials password PROXY_FORWARDING_GRANT_TYPE –forwarding-username value username to use when logging into the openid provider PROXY_FORWARDING_USERNAME –forwarding-password value password to use when logging into the openid provider PROXY_FORWARDING_PASSWORD –enable-signing enable signing of requests to upstream, when in reverse proxy mode false PROXY_ENABLE_SIGNING –enable-signing-hmac enable signing of requests to upstream, when in reverse proxy mode with HMAC false PROXY_ENABLE_SIGNING_HMAC –forwarding-domains value list of domains which should be signed; everything else is relayed unsigned –enable-x-forwarded-headers enable using X-Forwarded headers (host and proto) for callback and authorization url false PROXY_ENABLE_X_FORWARDED_HEADERS –enable-optional-encryption enable optional decryption for access tokens, id tokens, refresh tokens false PROXY_ENABLE_OPTIONAL_ENCRYPTION –enable-logout-auth enable authentication on logout handler true PROXY_ENABLE_LOGOUT_AUTH –enable-request-upstream-compression enables asking upstream for compression, by adding Accept-Encoding: gzip header and decompressing response from upstream true PROXY_ENABLE_REQUEST_UPSTREAM_COMPRESSION –enable-accept-encoding-header pass Accept-Encoding header from client to upstream false PROXY_ENABLE_ACCEPT_ENCODING_HEADER –enable-loa enable level of authentication false –disable-all-logging disables all logging to stdout and stderr false PROXY_DISABLE_ALL_LOGGING –help, -h show help –version, -v print the version'><meta property="og:url" content="https://gogatekeeper.github.io/gatekeeper/configuration/index.html"><meta property="og:site_name" content="Gatekeeper"><meta property="og:title" content="Configuration Reference - Gatekeeper"><meta property="og:description" content='CONFIG DESCRIPTION DEFAULT ENV –config value path the a configuration file PROXY_CONFIG_FILE –listen value Defines the binding interface for main listener, e.g. {address}:{port}. This is required and there is no default value PROXY_LISTEN –listen-http value interface we should be listening to for HTTP traffic PROXY_LISTEN_HTTP –listen-admin value defines the interface to bind admin-only endpoint (live-status, debug, prometheus…). If not defined, this defaults to the main listener defined by Listen PROXY_LISTEN_ADMIN –listen-admin-scheme value scheme to serve admin-only endpoint (http or https). PROXY_LISTEN_ADMIN_SCHEME –discovery-url value discovery url to retrieve the openid configuration PROXY_DISCOVERY_URL –client-id value client id used to authenticate to the oauth service PROXY_CLIENT_ID –client-secret value client secret used to authenticate to the oauth service PROXY_CLIENT_SECRET –redirection-url value redirection url for the oauth callback url, defaults to host header if absent PROXY_REDIRECTION_URL –post-logout-redirect-uri value url to which client is redirected after successful logout PROXY_POST_LOGOUT_REDIRECT_URI –post-login-redirect-path value post-login-redirect-path" usage:“path to which client is redirected after successful login, in case user access / PROXY_POST_LOGIN_REDIRECT_PATH –revocation-url value url for the revocation endpoint to revoke refresh token PROXY_REVOCATION_URL –skip-openid-provider-tls-verify skip the verification of any TLS communication with the openid provider false PROXY_SKIP_OPENID_PROVIDER_TLSVERIFY –tls-openid-provider-ca-certificate path to the ca certificate for IDP PROXY_TLS_OPENID_PROVIDER_CA_CERTIFICATE –tls-openid-provider-client-private-key path to the client private key for IDP PROXY_TLS_OPENID_PROVIDER_CLIENT_PRIVATE_KEY –tls-openid-provider-client-certificate path to the client certificate for IDP PROXY_TLS_OPENID_PROVIDER_CLIENT_CERTIFICATE –openid-provider-proxy value proxy for communication with the openid provider PROXY_OPENID_PROVIDER_PROXY –openid-provider-timeout value timeout for openid configuration on .well-known/openid-configuration 30s PROXY_OPENID_PROVIDER_TIMEOUT –openid-provider-retry-count value number of retries for retrieving openid configuration 3 PROXY_OPENID_PROVIDER_RETRY_COUNT –openid-provider-headers value http headers sent to idp provider –upstream-proxy proxy for communication with upstream PROXY_UPSTREAM_PROXY –upstream-no-proxy list of upstream destinations which should be not proxied PROXY_UPSTREAM_NO_PROXY –base-uri value common prefix for all URIs PROXY_BASE_URI –oauth-uri value the uri for proxy oauth endpoints /oauth PROXY_OAUTH_URI –scopes value list of scopes requested when authenticating the user –upstream-url value url for the upstream endpoint you wish to proxy PROXY_UPSTREAM_URL –upstream-ca value the path to a file container a CA certificate to validate the upstream tls endpoint PROXY_UPSTREAM_CA –resources value list of resources ‘uri=/admin*|methods=GET,PUT|roles=role1,role2’ –headers value custom headers to the upstream request, key=value –preserve-host preserve the host header of the proxied request in the upstream request false PROXY_PRESERVE_HOST –request-id-header value the http header name for request id X-Request-ID PROXY_REQUEST_ID_HEADER –response-headers value custom headers to added to the http response key=value PROXY_RESPONSE_HEADERS –custom-http-methods list of additional non-standard http methods –allowed-query-params allowed query params, sent to IDP key=optional value –default-allowed-query-params default allowed query params, sent to IDP key=required-value –enable-self-signed-tls create self signed certificates for the proxy false PROXY_ENABLE_SELF_SIGNED_TLS –self-signed-tls-hostnames value a list of hostnames to place on the self-signed certificate –self-signed-tls-expiration value the expiration of the certificate before rotation 3h0m0s PROXY_SELF_SIGNED_TLS_EXPIRATION –enable-request-id indicates we should add a request id if none found false PROXY_ENABLE_REQUEST_ID –enable-logout-redirect indicates we should redirect to the identity provider for logging out false PROXY_ENABLE_LOGOUT_REDIRECT –enable-default-deny enables a default denial on all requests, requests with valid token are permitted, you have to explicitly say what is permitted true PROXY_ENABLE_DEFAULT_DENY –enable-default-deny-strict enables a default denial on all requests, requests with valid token are denied, you have to explicitly say what is permitted (recommended) false PROXY_ENABLE_DEFAULT_DENY_STRICT –enable-encrypted-token enable encryption for the access tokens true PROXY_ENABLE_ENCRYPTED_TOKEN –force-encrypted-cookie force encryption for the access tokens in cookies false PROXY_FORCE_ENCRYPTED_COOKIE –enable-logging enable http logging of the requests false PROXY_ENABLE_LOGGING –enable-json-logging switch on json logging rather than text true PROXY_ENABLE_JSON_LOGGING –enable-forwarding enables the forwarding proxy mode, signing outbound request false PROXY_ENABLE_FORWARDING –enable-security-filter enables the security filter handler false PROXY_ENABLE_SECURITY_FILTER –enable-refresh-tokens enables the handling of the refresh tokens false PROXY_ENABLE_REFRESH_TOKEN –enable-session-cookies access and refresh tokens are session only i.e. removed browser close true PROXY_ENABLE_SESSION_COOKIES –enable-login-handler enables the handling of the refresh tokens false PROXY_ENABLE_LOGIN_HANDLER –enable-register-handler enables the handling of registration false PROXY_ENABLE_REGISTER_HANDLER –enable-token-header enables the token authentication header X-Auth-Token to upstream true PROXY_ENABLE_TOKEN_HEADER –enable-authorization-header adds the authorization header to the proxy request true PROXY_ENABLE_AUTHORIZATION_HEADER –enable-header-encoding encodes header values according RFC 2047, in MIME B format false PROXY_ENABLE_HEADER_ENCODING –enable-authorization-cookies adds the authorization cookies to the uptream proxy request true PROXY_ENABLE_AUTHORIZATION_COOKIES –enable-https-redirection enable the http to https redirection on the http service false PROXY_ENABLE_HTTPS_REDIRECT –enable-profiling switching on the golang profiling via pprof on /debug/pprof, /debug/pprof/heap etc false PROXY_ENABLE_PROFILING –enable-metrics enable the prometheus metrics collector on /oauth/metrics false PROXY_ENABLE_METRICS –filter-browser-xss enable the adds the X-XSS-Protection header with mode=block false PROXY_ENABLE_BROWSER_XSS_FILTER –filter-content-nosniff adds the X-Content-Type-Options header with the value nosniff false PROXY_ENABLE_CONTENT_NO_SNIFF –filter-frame-deny enable to the frame deny header false PROXY_ENABLE_FRAME_DENY –content-security-policy value specify the content security policy PROXY_CONTENT_SECURITY_POLICY –localhost-metrics enforces the metrics page can only been requested from 127.0.0.1 false PROXY_LOCALHOST_METRICS –enable-compression enable gzip compression for response false PROXY_ENABLE_COMPRESSION –enable-pkce enable pkce for auth code flow, only S256 code challenge supported true PROXY_ENABLE_PKCE –enable-idp-session-check during token validation it also checks if user session is still present, useful for multi app logout true PROXY_ENABLE_IDP_SESSION_CHECK –enable-uma enable UMA authorization, please don’t use in production as it is new feature, we would like to receive feedback first false PROXY_ENABLE_UMA –enable-opa enable authorization with external Open policy agent false PROXY_ENABLE_OPA –opa-timeout timeout for connection to OPA 10s PROXY_OPA_TIMEOUT –opa-authz-uri OPA endpoint address with path PROXY_OPA_AUTHZ_URI –pat-retry-count number of retries to get PAT 5 PROXY_PAT_RETRY_COUNT –pat-retry-interval interval between retries to get PAT 2s PROXY_PAT_RETRY_INTERVAL –access-token-duration value fallback cookie duration for the access token when using refresh tokens 720h0m0s PROXY_ACCESS_TOKEN_DURATION –cookie-domain value domain the access cookie is available to, defaults host header PROXY_COOKIE_DOMAIN –cookie-path value path to which cookie is available PROXY_COOKIE_PATH –cookie-access-name value name of the cookie use to hold the access token kc-access PROXY_COOKIE_ACCESS_NAME –cookie-refresh-name value name of the cookie used to hold the encrypted refresh token kc-state PROXY_COOKIE_REFRESH_NAME –cookie-oauth-state-name value name of the cookie used to hold the Oauth request state OAuth_Token_Request_State COOKIE_OAUTH_STATE_NAME –cookie-request-uri-name value name of the cookie used to hold the request uri request_uri COOKIE_REQUEST_URI_NAME –cookie-pkce-name value name of the cookie used to hold PKCE code verifier pkce COOKIE_PKCE_NAME –secure-cookie enforces the cookie to be secure true PROXY_SECURE_COOKIE –http-only-cookie enforces the cookie is in http only mode true PROXY_HTTP_ONLY_COOKIE –same-site-cookie value enforces cookies to be send only to same site requests according to the policy (can be | Strict|Lax|None) Lax PROXY_SAME_SITE_COOKIE –enable-id-token-cookie enable id token cookie false PROXY_ENABLE_IDTOKEN_COOKIE –match-claims value keypair values for matching access token claims e.g. aud=myapp, iss=http://example.* –add-claims value extra claims from the token and inject into headers, e.g given_name -> X-Auth-Given-Name –enable-uma-method-scope enables passing request method as ‘method:GET’ scope to keycloak for authorization false PROXY_ENABLE_UMA_METHOD_SCOPE –tls-min-version specify server minimal TLS version one of tlsv1.2,tlsv1.3 TLS_MIN_VERSION –tls-cert path to the TLS certificate tls-cert –tls-private-key path to the private key for TLS tls-private-key –tls-client-certificate path to the client certificate used for authenticating to upstream PROXY_TLS_CLIENT_CERTIFICATE –tls-client-private-key path to the client private key, used for authentication to upstream PROXY_TLS_CLIENT_PRIVATE_KEY –tls-client-ca-certificate path to the client CA certificate, used for verifying client certificates PROXY_TLS_CLIENT_CA_CERTIFICATE –tls-forwarding-ca-certificate path to the CA certificate, used for generating server cert for forwarding-proxy PROXY_TLS_FORWARDING_CA_CERTIFICATE –tls-forwarding-ca-private-key path to the CA private key, used for generating server cert for forwarding proxy PROXY_TLS_FORWARDING_CA_PRIVATE_KEY –tls-store-ca-certificate path to the ca certificate used for verifying trusted server certificates PROXY_TLS_STORE_CA_CERTIFICATE –tls-store-client-certificate path to the client certificate, used for authenticating to store PROXY_TLS_STORE_CLIENT_CERTIFICATE –tls-store-client-private-key path to the client private key, used for authenticating to store PROXY_TLS_STORE_CLIENT_PRIVATE_KEY –skip-upstream-tls-verify skip the verification of any upstream TLS false PROXY_SKIP_UPSTREAM_TLS_VERIFY –tls-admin-cert value path to ths TLS certificate PROXY_TLS_ADMIN_CERTIFICATE –tls-admin-private-key value path to the private key for TLS PROXY_TLS_ADMIN_PRIVATE_KEY –tls-admin-client-ca-certificate value path to the client certificate for outbound connections in reverse and forwarding proxy modes PROXY_TLS_ADMIN_CLIENT_CERTIFICATE –cors-origins value origins to add to the CORE origins control (Access-Control-Allow-Origin) –cors-methods value methods permitted in the access control (Access-Control-Allow-Methods) –cors-headers value set of headers to add to the CORS access control (Access-Control-Allow-Headers) –cors-exposed-headers value expose cors headers access control (Access-Control-Expose-Headers) –cors-credentials credentials access control header (Access-Control-Allow-Credentials) false PROXY_CORS_CREDENTIALS –cors-max-age value max age applied to cors headers (Access-Control-Max-Age) 0s PROXY_CORS_MAX_AGE –hostnames value list of hostnames the service will respond to –store-url value url for the storage subsystem, e.g redis://user:secret@localhost:6379/0?protocol=3, only supported is redis usig redis uri spec PROXY_STORE_URL –encryption-key value encryption key used to encryption the session state PROXY_ENCRYPTION_KEY –enable-hmac enable creating hmac for forwarded requests and verification on incoming requests false PROXY_ENABLE_HMAC –no-proxy value do not proxy requests to upstream, useful for forward-auth usage (with nginx, traefik) PROXY_NO_PROXY –no-redirects do not have back redirects when no authentication is present, 401 them false PROXY_NO_REDIRECTS –skip-token-verification TESTING ONLY; bypass token verification, only expiration and roles enforced false PROXY_SKIP_TOKEN_VERIFICATION –skip-access-token-issuer-check according RFC issuer should not be checked on access token, this will be default true in future true PROXY_SKIP_ACCESS_TOKEN_ISSUER_CHECK –skip-access-token-clientid-check according RFC client id should not be checked on access token, this will be default true in future true PROXY_SKIP_ACCESS_TOKEN_CLIENT_ID_CHECK –skip-authorization-header-identity skip authorization header identity, means that we won’t be extracting token from authorization header, only from cookie or fail if even no cookie present (e.g. if authorization header is used only by application behind gatekeeper)"` false PROXY_SKIP_AUTHORIZATION_HEADER_IDENTITY –upstream-keepalives enables or disables the keepalive connections for upstream endpoint true PROXY_UPSTREAM_KEEPALIVES –upstream-timeout value maximum amount of time a dial will wait for a connect to complete 10s PROXY_UPSTREAM_TIMEOUT –upstream-keepalive-timeout value specifies the keep-alive period for an active network connection 10s PROXY_UPSTREAM_KEEPALIVE_TIMEOUT –upstream-tls-handshake-timeout value the timeout placed on the tls handshake for upstream 10s PROXY_UPSTREAM_TLS_HANDSHAKE_TIMEOUT –upstream-response-header-timeout value the timeout placed on the response header for upstream 10s PROXY_UPSTREAM_RESPONSE_HEADER_TIMEOUT –upstream-expect-continue-timeout value the timeout placed on the expect continue for upstream 10s PROXY_UPSTREAM_EXPECT_CONTINUE_TIMEOUT –verbose switch on debug / verbose logging false PROXY_VERBOSE –enabled-proxy-protocol enable proxy protocol false PROXY_ENABLE_PROXY_PROTOCOL –max-idle-connections value max idle upstream / keycloak connections to keep alive, ready for reuse 0 PROXY_MAX_IDLE_CONNS –max-idle-connections-per-host value limits the number of idle connections maintained per host 0 PROXY_MAX_IDLE_CONNS_PER_HOST –server-grace-timeout value the server graceful period before shutdown 10s PROXY_SERVER_GRACE_TIMEOUT –server-read-timeout value the server read timeout on the http server 10s PROXY_SERVER_READ_TIMEOUT –server-write-timeout value the server write timeout on the http server 10s PROXY_SERVER_WRITE_TIMEOUT –server-idle-timeout value the server idle timeout on the http server 2m0s PROXY_SERVER_IDLE_TIMEOUT –use-letsencrypt use letsencrypt for certificates false PROXY_USE_LETS_ENCRYPT –letsencrypt-cache-dir value path where cached letsencrypt certificates are stored ./cache/ PROXY_LETS_ENCRYPT_CACHE_DIR –sign-in-page value path to custom template displayed for signin PROXY_SIGN_IN_PAGE –register-page value path to custom template displayed for registration PROXY_REGISTER_PAGE –forbidden-page value path to custom template used for access forbidden PROXY_FORBIDDEN_PAGE –error-page value path to custom template displayed for http.StatusBadRequest PROXY_ERROR_PAGE –tags value keypairs passed to the templates at render,e.g title=Page –forwarding-grant-type value grant-type to use when logging into the openid provider, can be one of password, client_credentials password PROXY_FORWARDING_GRANT_TYPE –forwarding-username value username to use when logging into the openid provider PROXY_FORWARDING_USERNAME –forwarding-password value password to use when logging into the openid provider PROXY_FORWARDING_PASSWORD –enable-signing enable signing of requests to upstream, when in reverse proxy mode false PROXY_ENABLE_SIGNING –enable-signing-hmac enable signing of requests to upstream, when in reverse proxy mode with HMAC false PROXY_ENABLE_SIGNING_HMAC –forwarding-domains value list of domains which should be signed; everything else is relayed unsigned –enable-x-forwarded-headers enable using X-Forwarded headers (host and proto) for callback and authorization url false PROXY_ENABLE_X_FORWARDED_HEADERS –enable-optional-encryption enable optional decryption for access tokens, id tokens, refresh tokens false PROXY_ENABLE_OPTIONAL_ENCRYPTION –enable-logout-auth enable authentication on logout handler true PROXY_ENABLE_LOGOUT_AUTH –enable-request-upstream-compression enables asking upstream for compression, by adding Accept-Encoding: gzip header and decompressing response from upstream true PROXY_ENABLE_REQUEST_UPSTREAM_COMPRESSION –enable-accept-encoding-header pass Accept-Encoding header from client to upstream false PROXY_ENABLE_ACCEPT_ENCODING_HEADER –enable-loa enable level of authentication false –disable-all-logging disables all logging to stdout and stderr false PROXY_DISABLE_ALL_LOGGING –help, -h show help –version, -v print the version'><meta property="og:locale" content="en_us"><meta property="og:type" content="website"><meta itemprop=name content="Configuration Reference - Gatekeeper"><meta itemprop=description content='CONFIG DESCRIPTION DEFAULT ENV –config value path the a configuration file PROXY_CONFIG_FILE –listen value Defines the binding interface for main listener, e.g. {address}:{port}. This is required and there is no default value PROXY_LISTEN –listen-http value interface we should be listening to for HTTP traffic PROXY_LISTEN_HTTP –listen-admin value defines the interface to bind admin-only endpoint (live-status, debug, prometheus…). If not defined, this defaults to the main listener defined by Listen PROXY_LISTEN_ADMIN –listen-admin-scheme value scheme to serve admin-only endpoint (http or https). PROXY_LISTEN_ADMIN_SCHEME –discovery-url value discovery url to retrieve the openid configuration PROXY_DISCOVERY_URL –client-id value client id used to authenticate to the oauth service PROXY_CLIENT_ID –client-secret value client secret used to authenticate to the oauth service PROXY_CLIENT_SECRET –redirection-url value redirection url for the oauth callback url, defaults to host header if absent PROXY_REDIRECTION_URL –post-logout-redirect-uri value url to which client is redirected after successful logout PROXY_POST_LOGOUT_REDIRECT_URI –post-login-redirect-path value post-login-redirect-path" usage:“path to which client is redirected after successful login, in case user access / PROXY_POST_LOGIN_REDIRECT_PATH –revocation-url value url for the revocation endpoint to revoke refresh token PROXY_REVOCATION_URL –skip-openid-provider-tls-verify skip the verification of any TLS communication with the openid provider false PROXY_SKIP_OPENID_PROVIDER_TLSVERIFY –tls-openid-provider-ca-certificate path to the ca certificate for IDP PROXY_TLS_OPENID_PROVIDER_CA_CERTIFICATE –tls-openid-provider-client-private-key path to the client private key for IDP PROXY_TLS_OPENID_PROVIDER_CLIENT_PRIVATE_KEY –tls-openid-provider-client-certificate path to the client certificate for IDP PROXY_TLS_OPENID_PROVIDER_CLIENT_CERTIFICATE –openid-provider-proxy value proxy for communication with the openid provider PROXY_OPENID_PROVIDER_PROXY –openid-provider-timeout value timeout for openid configuration on .well-known/openid-configuration 30s PROXY_OPENID_PROVIDER_TIMEOUT –openid-provider-retry-count value number of retries for retrieving openid configuration 3 PROXY_OPENID_PROVIDER_RETRY_COUNT –openid-provider-headers value http headers sent to idp provider –upstream-proxy proxy for communication with upstream PROXY_UPSTREAM_PROXY –upstream-no-proxy list of upstream destinations which should be not proxied PROXY_UPSTREAM_NO_PROXY –base-uri value common prefix for all URIs PROXY_BASE_URI –oauth-uri value the uri for proxy oauth endpoints /oauth PROXY_OAUTH_URI –scopes value list of scopes requested when authenticating the user –upstream-url value url for the upstream endpoint you wish to proxy PROXY_UPSTREAM_URL –upstream-ca value the path to a file container a CA certificate to validate the upstream tls endpoint PROXY_UPSTREAM_CA –resources value list of resources ‘uri=/admin*|methods=GET,PUT|roles=role1,role2’ –headers value custom headers to the upstream request, key=value –preserve-host preserve the host header of the proxied request in the upstream request false PROXY_PRESERVE_HOST –request-id-header value the http header name for request id X-Request-ID PROXY_REQUEST_ID_HEADER –response-headers value custom headers to added to the http response key=value PROXY_RESPONSE_HEADERS –custom-http-methods list of additional non-standard http methods –allowed-query-params allowed query params, sent to IDP key=optional value –default-allowed-query-params default allowed query params, sent to IDP key=required-value –enable-self-signed-tls create self signed certificates for the proxy false PROXY_ENABLE_SELF_SIGNED_TLS –self-signed-tls-hostnames value a list of hostnames to place on the self-signed certificate –self-signed-tls-expiration value the expiration of the certificate before rotation 3h0m0s PROXY_SELF_SIGNED_TLS_EXPIRATION –enable-request-id indicates we should add a request id if none found false PROXY_ENABLE_REQUEST_ID –enable-logout-redirect indicates we should redirect to the identity provider for logging out false PROXY_ENABLE_LOGOUT_REDIRECT –enable-default-deny enables a default denial on all requests, requests with valid token are permitted, you have to explicitly say what is permitted true PROXY_ENABLE_DEFAULT_DENY –enable-default-deny-strict enables a default denial on all requests, requests with valid token are denied, you have to explicitly say what is permitted (recommended) false PROXY_ENABLE_DEFAULT_DENY_STRICT –enable-encrypted-token enable encryption for the access tokens true PROXY_ENABLE_ENCRYPTED_TOKEN –force-encrypted-cookie force encryption for the access tokens in cookies false PROXY_FORCE_ENCRYPTED_COOKIE –enable-logging enable http logging of the requests false PROXY_ENABLE_LOGGING –enable-json-logging switch on json logging rather than text true PROXY_ENABLE_JSON_LOGGING –enable-forwarding enables the forwarding proxy mode, signing outbound request false PROXY_ENABLE_FORWARDING –enable-security-filter enables the security filter handler false PROXY_ENABLE_SECURITY_FILTER –enable-refresh-tokens enables the handling of the refresh tokens false PROXY_ENABLE_REFRESH_TOKEN –enable-session-cookies access and refresh tokens are session only i.e. removed browser close true PROXY_ENABLE_SESSION_COOKIES –enable-login-handler enables the handling of the refresh tokens false PROXY_ENABLE_LOGIN_HANDLER –enable-register-handler enables the handling of registration false PROXY_ENABLE_REGISTER_HANDLER –enable-token-header enables the token authentication header X-Auth-Token to upstream true PROXY_ENABLE_TOKEN_HEADER –enable-authorization-header adds the authorization header to the proxy request true PROXY_ENABLE_AUTHORIZATION_HEADER –enable-header-encoding encodes header values according RFC 2047, in MIME B format false PROXY_ENABLE_HEADER_ENCODING –enable-authorization-cookies adds the authorization cookies to the uptream proxy request true PROXY_ENABLE_AUTHORIZATION_COOKIES –enable-https-redirection enable the http to https redirection on the http service false PROXY_ENABLE_HTTPS_REDIRECT –enable-profiling switching on the golang profiling via pprof on /debug/pprof, /debug/pprof/heap etc false PROXY_ENABLE_PROFILING –enable-metrics enable the prometheus metrics collector on /oauth/metrics false PROXY_ENABLE_METRICS –filter-browser-xss enable the adds the X-XSS-Protection header with mode=block false PROXY_ENABLE_BROWSER_XSS_FILTER –filter-content-nosniff adds the X-Content-Type-Options header with the value nosniff false PROXY_ENABLE_CONTENT_NO_SNIFF –filter-frame-deny enable to the frame deny header false PROXY_ENABLE_FRAME_DENY –content-security-policy value specify the content security policy PROXY_CONTENT_SECURITY_POLICY –localhost-metrics enforces the metrics page can only been requested from 127.0.0.1 false PROXY_LOCALHOST_METRICS –enable-compression enable gzip compression for response false PROXY_ENABLE_COMPRESSION –enable-pkce enable pkce for auth code flow, only S256 code challenge supported true PROXY_ENABLE_PKCE –enable-idp-session-check during token validation it also checks if user session is still present, useful for multi app logout true PROXY_ENABLE_IDP_SESSION_CHECK –enable-uma enable UMA authorization, please don’t use in production as it is new feature, we would like to receive feedback first false PROXY_ENABLE_UMA –enable-opa enable authorization with external Open policy agent false PROXY_ENABLE_OPA –opa-timeout timeout for connection to OPA 10s PROXY_OPA_TIMEOUT –opa-authz-uri OPA endpoint address with path PROXY_OPA_AUTHZ_URI –pat-retry-count number of retries to get PAT 5 PROXY_PAT_RETRY_COUNT –pat-retry-interval interval between retries to get PAT 2s PROXY_PAT_RETRY_INTERVAL –access-token-duration value fallback cookie duration for the access token when using refresh tokens 720h0m0s PROXY_ACCESS_TOKEN_DURATION –cookie-domain value domain the access cookie is available to, defaults host header PROXY_COOKIE_DOMAIN –cookie-path value path to which cookie is available PROXY_COOKIE_PATH –cookie-access-name value name of the cookie use to hold the access token kc-access PROXY_COOKIE_ACCESS_NAME –cookie-refresh-name value name of the cookie used to hold the encrypted refresh token kc-state PROXY_COOKIE_REFRESH_NAME –cookie-oauth-state-name value name of the cookie used to hold the Oauth request state OAuth_Token_Request_State COOKIE_OAUTH_STATE_NAME –cookie-request-uri-name value name of the cookie used to hold the request uri request_uri COOKIE_REQUEST_URI_NAME –cookie-pkce-name value name of the cookie used to hold PKCE code verifier pkce COOKIE_PKCE_NAME –secure-cookie enforces the cookie to be secure true PROXY_SECURE_COOKIE –http-only-cookie enforces the cookie is in http only mode true PROXY_HTTP_ONLY_COOKIE –same-site-cookie value enforces cookies to be send only to same site requests according to the policy (can be | Strict|Lax|None) Lax PROXY_SAME_SITE_COOKIE –enable-id-token-cookie enable id token cookie false PROXY_ENABLE_IDTOKEN_COOKIE –match-claims value keypair values for matching access token claims e.g. aud=myapp, iss=http://example.* –add-claims value extra claims from the token and inject into headers, e.g given_name -> X-Auth-Given-Name –enable-uma-method-scope enables passing request method as ‘method:GET’ scope to keycloak for authorization false PROXY_ENABLE_UMA_METHOD_SCOPE –tls-min-version specify server minimal TLS version one of tlsv1.2,tlsv1.3 TLS_MIN_VERSION –tls-cert path to the TLS certificate tls-cert –tls-private-key path to the private key for TLS tls-private-key –tls-client-certificate path to the client certificate used for authenticating to upstream PROXY_TLS_CLIENT_CERTIFICATE –tls-client-private-key path to the client private key, used for authentication to upstream PROXY_TLS_CLIENT_PRIVATE_KEY –tls-client-ca-certificate path to the client CA certificate, used for verifying client certificates PROXY_TLS_CLIENT_CA_CERTIFICATE –tls-forwarding-ca-certificate path to the CA certificate, used for generating server cert for forwarding-proxy PROXY_TLS_FORWARDING_CA_CERTIFICATE –tls-forwarding-ca-private-key path to the CA private key, used for generating server cert for forwarding proxy PROXY_TLS_FORWARDING_CA_PRIVATE_KEY –tls-store-ca-certificate path to the ca certificate used for verifying trusted server certificates PROXY_TLS_STORE_CA_CERTIFICATE –tls-store-client-certificate path to the client certificate, used for authenticating to store PROXY_TLS_STORE_CLIENT_CERTIFICATE –tls-store-client-private-key path to the client private key, used for authenticating to store PROXY_TLS_STORE_CLIENT_PRIVATE_KEY –skip-upstream-tls-verify skip the verification of any upstream TLS false PROXY_SKIP_UPSTREAM_TLS_VERIFY –tls-admin-cert value path to ths TLS certificate PROXY_TLS_ADMIN_CERTIFICATE –tls-admin-private-key value path to the private key for TLS PROXY_TLS_ADMIN_PRIVATE_KEY –tls-admin-client-ca-certificate value path to the client certificate for outbound connections in reverse and forwarding proxy modes PROXY_TLS_ADMIN_CLIENT_CERTIFICATE –cors-origins value origins to add to the CORE origins control (Access-Control-Allow-Origin) –cors-methods value methods permitted in the access control (Access-Control-Allow-Methods) –cors-headers value set of headers to add to the CORS access control (Access-Control-Allow-Headers) –cors-exposed-headers value expose cors headers access control (Access-Control-Expose-Headers) –cors-credentials credentials access control header (Access-Control-Allow-Credentials) false PROXY_CORS_CREDENTIALS –cors-max-age value max age applied to cors headers (Access-Control-Max-Age) 0s PROXY_CORS_MAX_AGE –hostnames value list of hostnames the service will respond to –store-url value url for the storage subsystem, e.g redis://user:secret@localhost:6379/0?protocol=3, only supported is redis usig redis uri spec PROXY_STORE_URL –encryption-key value encryption key used to encryption the session state PROXY_ENCRYPTION_KEY –enable-hmac enable creating hmac for forwarded requests and verification on incoming requests false PROXY_ENABLE_HMAC –no-proxy value do not proxy requests to upstream, useful for forward-auth usage (with nginx, traefik) PROXY_NO_PROXY –no-redirects do not have back redirects when no authentication is present, 401 them false PROXY_NO_REDIRECTS –skip-token-verification TESTING ONLY; bypass token verification, only expiration and roles enforced false PROXY_SKIP_TOKEN_VERIFICATION –skip-access-token-issuer-check according RFC issuer should not be checked on access token, this will be default true in future true PROXY_SKIP_ACCESS_TOKEN_ISSUER_CHECK –skip-access-token-clientid-check according RFC client id should not be checked on access token, this will be default true in future true PROXY_SKIP_ACCESS_TOKEN_CLIENT_ID_CHECK –skip-authorization-header-identity skip authorization header identity, means that we won’t be extracting token from authorization header, only from cookie or fail if even no cookie present (e.g. if authorization header is used only by application behind gatekeeper)"` false PROXY_SKIP_AUTHORIZATION_HEADER_IDENTITY –upstream-keepalives enables or disables the keepalive connections for upstream endpoint true PROXY_UPSTREAM_KEEPALIVES –upstream-timeout value maximum amount of time a dial will wait for a connect to complete 10s PROXY_UPSTREAM_TIMEOUT –upstream-keepalive-timeout value specifies the keep-alive period for an active network connection 10s PROXY_UPSTREAM_KEEPALIVE_TIMEOUT –upstream-tls-handshake-timeout value the timeout placed on the tls handshake for upstream 10s PROXY_UPSTREAM_TLS_HANDSHAKE_TIMEOUT –upstream-response-header-timeout value the timeout placed on the response header for upstream 10s PROXY_UPSTREAM_RESPONSE_HEADER_TIMEOUT –upstream-expect-continue-timeout value the timeout placed on the expect continue for upstream 10s PROXY_UPSTREAM_EXPECT_CONTINUE_TIMEOUT –verbose switch on debug / verbose logging false PROXY_VERBOSE –enabled-proxy-protocol enable proxy protocol false PROXY_ENABLE_PROXY_PROTOCOL –max-idle-connections value max idle upstream / keycloak connections to keep alive, ready for reuse 0 PROXY_MAX_IDLE_CONNS –max-idle-connections-per-host value limits the number of idle connections maintained per host 0 PROXY_MAX_IDLE_CONNS_PER_HOST –server-grace-timeout value the server graceful period before shutdown 10s PROXY_SERVER_GRACE_TIMEOUT –server-read-timeout value the server read timeout on the http server 10s PROXY_SERVER_READ_TIMEOUT –server-write-timeout value the server write timeout on the http server 10s PROXY_SERVER_WRITE_TIMEOUT –server-idle-timeout value the server idle timeout on the http server 2m0s PROXY_SERVER_IDLE_TIMEOUT –use-letsencrypt use letsencrypt for certificates false PROXY_USE_LETS_ENCRYPT –letsencrypt-cache-dir value path where cached letsencrypt certificates are stored ./cache/ PROXY_LETS_ENCRYPT_CACHE_DIR –sign-in-page value path to custom template displayed for signin PROXY_SIGN_IN_PAGE –register-page value path to custom template displayed for registration PROXY_REGISTER_PAGE –forbidden-page value path to custom template used for access forbidden PROXY_FORBIDDEN_PAGE –error-page value path to custom template displayed for http.StatusBadRequest PROXY_ERROR_PAGE –tags value keypairs passed to the templates at render,e.g title=Page –forwarding-grant-type value grant-type to use when logging into the openid provider, can be one of password, client_credentials password PROXY_FORWARDING_GRANT_TYPE –forwarding-username value username to use when logging into the openid provider PROXY_FORWARDING_USERNAME –forwarding-password value password to use when logging into the openid provider PROXY_FORWARDING_PASSWORD –enable-signing enable signing of requests to upstream, when in reverse proxy mode false PROXY_ENABLE_SIGNING –enable-signing-hmac enable signing of requests to upstream, when in reverse proxy mode with HMAC false PROXY_ENABLE_SIGNING_HMAC –forwarding-domains value list of domains which should be signed; everything else is relayed unsigned –enable-x-forwarded-headers enable using X-Forwarded headers (host and proto) for callback and authorization url false PROXY_ENABLE_X_FORWARDED_HEADERS –enable-optional-encryption enable optional decryption for access tokens, id tokens, refresh tokens false PROXY_ENABLE_OPTIONAL_ENCRYPTION –enable-logout-auth enable authentication on logout handler true PROXY_ENABLE_LOGOUT_AUTH –enable-request-upstream-compression enables asking upstream for compression, by adding Accept-Encoding: gzip header and decompressing response from upstream true PROXY_ENABLE_REQUEST_UPSTREAM_COMPRESSION –enable-accept-encoding-header pass Accept-Encoding header from client to upstream false PROXY_ENABLE_ACCEPT_ENCODING_HEADER –enable-loa enable level of authentication false –disable-all-logging disables all logging to stdout and stderr false PROXY_DISABLE_ALL_LOGGING –help, -h show help –version, -v print the version'><meta itemprop=wordCount content="1889"><title>Configuration Reference - Gatekeeper</title><link href=/gatekeeper/configuration/index.xml rel=alternate type=application/rss+xml title="Configuration Reference - Gatekeeper"><link rel="shortcut icon" href=/logo/logo.svg type=image/x-icon><link href=/gatekeeper/fonts/fontawesome/css/fontawesome-all.min.css?1761696706 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/gatekeeper/fonts/fontawesome/css/fontawesome-all.min.css?1761696706 rel=stylesheet></noscript><link href=/gatekeeper/css/perfect-scrollbar/perfect-scrollbar.min.css?1761696706 rel=stylesheet><link href=/gatekeeper/css/theme.min.css?1761696706 rel=stylesheet><link href=/gatekeeper/css/format-html.min.css?1761696706 rel=stylesheet id=R-format-style><link href=/gatekeeper/css/auto-complete/auto-complete.min.css?1761696706 rel=stylesheet><script src=/gatekeeper/js/auto-complete/auto-complete.min.js?1761696706 defer></script><script src=/gatekeeper/js/lunr/lunr.min.js?1761696706 defer></script><script src=/gatekeeper/js/lunr/lunr.stemmer.support.min.js?1761696706 defer></script><script src=/gatekeeper/js/lunr/lunr.multi.min.js?1761696706 defer></script><script src=/gatekeeper/js/lunr/lunr.en.min.js?1761696706 defer></script><script src=/gatekeeper/js/search.min.js?1761696706 defer></script><script>window.relearn=window.relearn||{},window.relearn.min=`.min`,window.relearn.path="/configuration/index.html",window.relearn.relBasePath="..",window.relearn.relBaseUri="../..",window.relearn.absBaseUri="https://gogatekeeper.github.io/gatekeeper",window.relearn.contentLangs=["en"],window.relearn.index_js_url="/gatekeeper/searchindex.en.js?1761696706",window.relearn.disableAnchorCopy=!1,window.relearn.disableAnchorScrolling=!1,window.relearn.disableInlineCopyToClipboard=!0,window.relearn.enableBlockCodeWrap=!0,window.relearn.getItem=(e,t)=>e.getItem(t),window.relearn.setItem=(e,t,n)=>e.setItem(t,n),window.relearn.removeItem=(e,t)=>e.removeItem(t),window.relearn.themevariants=["blue"],window.relearn.customvariantname="my-custom-variant",window.relearn.changeVariant=function(e){var t=document.documentElement.dataset.rThemeVariant;window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e),document.documentElement.dataset.rThemeVariant=e,t!=e&&(document.dispatchEvent(new CustomEvent("themeVariantLoaded",{detail:{variant:e,oldVariant:t}})),window.relearn.markVariant())},window.relearn.markVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant");document.querySelectorAll(".R-variantswitcher select").forEach(t=>{t.value=e})},window.relearn.initVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant")??"";e==window.relearn.customvariantname||(!e||!window.relearn.themevariants.includes(e))&&(e=window.relearn.themevariants[0],window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e)),document.documentElement.dataset.rThemeVariant=e},window.relearn.initVariant(),window.relearn.markVariant(),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script></head><body class="mobile-support html" data-url=/gatekeeper/configuration/index.html><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar><div class=topbar-wrapper><div class=topbar-sidebar-divider></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><button class=topbar-control onclick=toggleNav() type=button title="Menu (CTRL+ALT+n)"><i class="fa-fw fas fa-bars"></i></button></div><div class="topbar-button topbar-button-toc" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><button class=topbar-control onclick=toggleTopbarFlyout(this) type=button title="Table of Contents (CTRL+ALT+t)"><i class="fa-fw fas fa-list-alt"></i></button><div class=topbar-content><div class=topbar-content-wrapper></div></div></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/gatekeeper/index.html><span itemprop=name>User Guide</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>Configuration Reference</span><meta itemprop=position content="2"></li></ol><div class="topbar-area topbar-area-end" data-area=end><div class="topbar-button topbar-button-more" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><button class=topbar-control onclick=toggleTopbarFlyout(this) type=button title=More><i class="fa-fw fas fa-ellipsis-v"></i></button><div class=topbar-content><div class=topbar-content-wrapper><div class="topbar-area topbar-area-more" data-area=more></div></div></div></div></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable configuration" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=configuration-reference>Configuration Reference</h1><table><thead><tr><th>CONFIG</th><th>DESCRIPTION</th><th>DEFAULT</th><th>ENV</th></tr></thead><tbody><tr><td>&ndash;config value</td><td>path the a configuration file</td><td></td><td>PROXY_CONFIG_FILE</td></tr><tr><td>&ndash;listen value</td><td>Defines the binding interface for main listener, e.g. {address}:{port}. This is required and there is no default value</td><td></td><td>PROXY_LISTEN</td></tr><tr><td>&ndash;listen-http value</td><td>interface we should be listening to for HTTP traffic</td><td></td><td>PROXY_LISTEN_HTTP</td></tr><tr><td>&ndash;listen-admin value</td><td>defines the interface to bind admin-only endpoint (live-status, debug, prometheus&mldr;). If not defined, this defaults to the main listener defined by Listen</td><td></td><td>PROXY_LISTEN_ADMIN</td></tr><tr><td>&ndash;listen-admin-scheme value</td><td>scheme to serve admin-only endpoint (http or https).</td><td></td><td>PROXY_LISTEN_ADMIN_SCHEME</td></tr><tr><td>&ndash;discovery-url value</td><td>discovery url to retrieve the openid configuration</td><td></td><td>PROXY_DISCOVERY_URL</td></tr><tr><td>&ndash;client-id value</td><td>client id used to authenticate to the oauth service</td><td></td><td>PROXY_CLIENT_ID</td></tr><tr><td>&ndash;client-secret value</td><td>client secret used to authenticate to the oauth service</td><td></td><td>PROXY_CLIENT_SECRET</td></tr><tr><td>&ndash;redirection-url value</td><td>redirection url for the oauth callback url, defaults to host header if absent</td><td></td><td>PROXY_REDIRECTION_URL</td></tr><tr><td>&ndash;post-logout-redirect-uri value</td><td>url to which client is redirected after successful logout</td><td></td><td>PROXY_POST_LOGOUT_REDIRECT_URI</td></tr><tr><td>&ndash;post-login-redirect-path value</td><td>post-login-redirect-path" usage:&ldquo;path to which client is redirected after successful login, in case user access /</td><td></td><td>PROXY_POST_LOGIN_REDIRECT_PATH</td></tr><tr><td>&ndash;revocation-url value</td><td>url for the revocation endpoint to revoke refresh token</td><td></td><td>PROXY_REVOCATION_URL</td></tr><tr><td>&ndash;skip-openid-provider-tls-verify</td><td>skip the verification of any TLS communication with the openid provider</td><td>false</td><td>PROXY_SKIP_OPENID_PROVIDER_TLSVERIFY</td></tr><tr><td>&ndash;tls-openid-provider-ca-certificate</td><td>path to the ca certificate for IDP</td><td></td><td>PROXY_TLS_OPENID_PROVIDER_CA_CERTIFICATE</td></tr><tr><td>&ndash;tls-openid-provider-client-private-key</td><td>path to the client private key for IDP</td><td></td><td>PROXY_TLS_OPENID_PROVIDER_CLIENT_PRIVATE_KEY</td></tr><tr><td>&ndash;tls-openid-provider-client-certificate</td><td>path to the client certificate for IDP</td><td></td><td>PROXY_TLS_OPENID_PROVIDER_CLIENT_CERTIFICATE</td></tr><tr><td>&ndash;openid-provider-proxy value</td><td>proxy for communication with the openid provider</td><td></td><td>PROXY_OPENID_PROVIDER_PROXY</td></tr><tr><td>&ndash;openid-provider-timeout value</td><td>timeout for openid configuration on .well-known/openid-configuration</td><td>30s</td><td>PROXY_OPENID_PROVIDER_TIMEOUT</td></tr><tr><td>&ndash;openid-provider-retry-count value</td><td>number of retries for retrieving openid configuration</td><td>3</td><td>PROXY_OPENID_PROVIDER_RETRY_COUNT</td></tr><tr><td>&ndash;openid-provider-headers value</td><td>http headers sent to idp provider</td><td></td><td></td></tr><tr><td>&ndash;upstream-proxy</td><td>proxy for communication with upstream</td><td></td><td>PROXY_UPSTREAM_PROXY</td></tr><tr><td>&ndash;upstream-no-proxy</td><td>list of upstream destinations which should be not proxied</td><td></td><td>PROXY_UPSTREAM_NO_PROXY</td></tr><tr><td>&ndash;base-uri value</td><td>common prefix for all URIs</td><td></td><td>PROXY_BASE_URI</td></tr><tr><td>&ndash;oauth-uri value</td><td>the uri for proxy oauth endpoints</td><td>/oauth</td><td>PROXY_OAUTH_URI</td></tr><tr><td>&ndash;scopes value</td><td>list of scopes requested when authenticating the user</td><td></td><td></td></tr><tr><td>&ndash;upstream-url value</td><td>url for the upstream endpoint you wish to proxy</td><td></td><td>PROXY_UPSTREAM_URL</td></tr><tr><td>&ndash;upstream-ca value</td><td>the path to a file container a CA certificate to validate the upstream tls endpoint</td><td></td><td>PROXY_UPSTREAM_CA</td></tr><tr><td>&ndash;resources value</td><td>list of resources &lsquo;uri=/admin*|methods=GET,PUT|roles=role1,role2&rsquo;</td><td></td><td></td></tr><tr><td>&ndash;headers value</td><td>custom headers to the upstream request, key=value</td><td></td><td></td></tr><tr><td>&ndash;preserve-host</td><td>preserve the host header of the proxied request in the upstream request</td><td>false</td><td>PROXY_PRESERVE_HOST</td></tr><tr><td>&ndash;request-id-header value</td><td>the http header name for request id</td><td>X-Request-ID</td><td>PROXY_REQUEST_ID_HEADER</td></tr><tr><td>&ndash;response-headers value</td><td>custom headers to added to the http response key=value</td><td></td><td>PROXY_RESPONSE_HEADERS</td></tr><tr><td>&ndash;custom-http-methods</td><td>list of additional non-standard http methods</td><td></td><td></td></tr><tr><td>&ndash;allowed-query-params</td><td>allowed query params, sent to IDP key=optional value</td><td></td><td></td></tr><tr><td>&ndash;default-allowed-query-params</td><td>default allowed query params, sent to IDP key=required-value</td><td></td><td></td></tr><tr><td>&ndash;enable-self-signed-tls</td><td>create self signed certificates for the proxy</td><td>false</td><td>PROXY_ENABLE_SELF_SIGNED_TLS</td></tr><tr><td>&ndash;self-signed-tls-hostnames value</td><td>a list of hostnames to place on the self-signed certificate</td><td></td><td></td></tr><tr><td>&ndash;self-signed-tls-expiration value</td><td>the expiration of the certificate before rotation</td><td>3h0m0s</td><td>PROXY_SELF_SIGNED_TLS_EXPIRATION</td></tr><tr><td>&ndash;enable-request-id</td><td>indicates we should add a request id if none found</td><td>false</td><td>PROXY_ENABLE_REQUEST_ID</td></tr><tr><td>&ndash;enable-logout-redirect</td><td>indicates we should redirect to the identity provider for logging out</td><td>false</td><td>PROXY_ENABLE_LOGOUT_REDIRECT</td></tr><tr><td>&ndash;enable-default-deny</td><td>enables a default denial on all requests, requests with valid token are permitted, you have to explicitly say what is permitted</td><td>true</td><td>PROXY_ENABLE_DEFAULT_DENY</td></tr><tr><td>&ndash;enable-default-deny-strict</td><td>enables a default denial on all requests, requests with valid token are denied, you have to explicitly say what is permitted (recommended)</td><td>false</td><td>PROXY_ENABLE_DEFAULT_DENY_STRICT</td></tr><tr><td>&ndash;enable-encrypted-token</td><td>enable encryption for the access tokens</td><td>true</td><td>PROXY_ENABLE_ENCRYPTED_TOKEN</td></tr><tr><td>&ndash;force-encrypted-cookie</td><td>force encryption for the access tokens in cookies</td><td>false</td><td>PROXY_FORCE_ENCRYPTED_COOKIE</td></tr><tr><td>&ndash;enable-logging</td><td>enable http logging of the requests</td><td>false</td><td>PROXY_ENABLE_LOGGING</td></tr><tr><td>&ndash;enable-json-logging</td><td>switch on json logging rather than text</td><td>true</td><td>PROXY_ENABLE_JSON_LOGGING</td></tr><tr><td>&ndash;enable-forwarding</td><td>enables the forwarding proxy mode, signing outbound request</td><td>false</td><td>PROXY_ENABLE_FORWARDING</td></tr><tr><td>&ndash;enable-security-filter</td><td>enables the security filter handler</td><td>false</td><td>PROXY_ENABLE_SECURITY_FILTER</td></tr><tr><td>&ndash;enable-refresh-tokens</td><td>enables the handling of the refresh tokens</td><td>false</td><td>PROXY_ENABLE_REFRESH_TOKEN</td></tr><tr><td>&ndash;enable-session-cookies</td><td>access and refresh tokens are session only i.e. removed browser close</td><td>true</td><td>PROXY_ENABLE_SESSION_COOKIES</td></tr><tr><td>&ndash;enable-login-handler</td><td>enables the handling of the refresh tokens</td><td>false</td><td>PROXY_ENABLE_LOGIN_HANDLER</td></tr><tr><td>&ndash;enable-register-handler</td><td>enables the handling of registration</td><td>false</td><td>PROXY_ENABLE_REGISTER_HANDLER</td></tr><tr><td>&ndash;enable-token-header</td><td>enables the token authentication header X-Auth-Token to upstream</td><td>true</td><td>PROXY_ENABLE_TOKEN_HEADER</td></tr><tr><td>&ndash;enable-authorization-header</td><td>adds the authorization header to the proxy request</td><td>true</td><td>PROXY_ENABLE_AUTHORIZATION_HEADER</td></tr><tr><td>&ndash;enable-header-encoding</td><td>encodes header values according RFC 2047, in MIME B format</td><td>false</td><td>PROXY_ENABLE_HEADER_ENCODING</td></tr><tr><td>&ndash;enable-authorization-cookies</td><td>adds the authorization cookies to the uptream proxy request</td><td>true</td><td>PROXY_ENABLE_AUTHORIZATION_COOKIES</td></tr><tr><td>&ndash;enable-https-redirection</td><td>enable the http to https redirection on the http service</td><td>false</td><td>PROXY_ENABLE_HTTPS_REDIRECT</td></tr><tr><td>&ndash;enable-profiling</td><td>switching on the golang profiling via pprof on /debug/pprof, /debug/pprof/heap etc</td><td>false</td><td>PROXY_ENABLE_PROFILING</td></tr><tr><td>&ndash;enable-metrics</td><td>enable the prometheus metrics collector on /oauth/metrics</td><td>false</td><td>PROXY_ENABLE_METRICS</td></tr><tr><td>&ndash;filter-browser-xss</td><td>enable the adds the X-XSS-Protection header with mode=block</td><td>false</td><td>PROXY_ENABLE_BROWSER_XSS_FILTER</td></tr><tr><td>&ndash;filter-content-nosniff</td><td>adds the X-Content-Type-Options header with the value nosniff</td><td>false</td><td>PROXY_ENABLE_CONTENT_NO_SNIFF</td></tr><tr><td>&ndash;filter-frame-deny</td><td>enable to the frame deny header</td><td>false</td><td>PROXY_ENABLE_FRAME_DENY</td></tr><tr><td>&ndash;content-security-policy value</td><td>specify the content security policy</td><td></td><td>PROXY_CONTENT_SECURITY_POLICY</td></tr><tr><td>&ndash;localhost-metrics</td><td>enforces the metrics page can only been requested from 127.0.0.1</td><td>false</td><td>PROXY_LOCALHOST_METRICS</td></tr><tr><td>&ndash;enable-compression</td><td>enable gzip compression for response</td><td>false</td><td>PROXY_ENABLE_COMPRESSION</td></tr><tr><td>&ndash;enable-pkce</td><td>enable pkce for auth code flow, only S256 code challenge supported</td><td>true</td><td>PROXY_ENABLE_PKCE</td></tr><tr><td>&ndash;enable-idp-session-check</td><td>during token validation it also checks if user session is still present, useful for multi app logout</td><td>true</td><td>PROXY_ENABLE_IDP_SESSION_CHECK</td></tr><tr><td>&ndash;enable-uma</td><td>enable UMA authorization, please don&rsquo;t use in production as it is new feature, we would like to receive feedback first</td><td>false</td><td>PROXY_ENABLE_UMA</td></tr><tr><td>&ndash;enable-opa</td><td>enable authorization with external Open policy agent</td><td>false</td><td>PROXY_ENABLE_OPA</td></tr><tr><td>&ndash;opa-timeout</td><td>timeout for connection to OPA</td><td>10s</td><td>PROXY_OPA_TIMEOUT</td></tr><tr><td>&ndash;opa-authz-uri</td><td>OPA endpoint address with path</td><td></td><td>PROXY_OPA_AUTHZ_URI</td></tr><tr><td>&ndash;pat-retry-count</td><td>number of retries to get PAT</td><td>5</td><td>PROXY_PAT_RETRY_COUNT</td></tr><tr><td>&ndash;pat-retry-interval</td><td>interval between retries to get PAT</td><td>2s</td><td>PROXY_PAT_RETRY_INTERVAL</td></tr><tr><td>&ndash;access-token-duration value</td><td>fallback cookie duration for the access token when using refresh tokens</td><td>720h0m0s</td><td>PROXY_ACCESS_TOKEN_DURATION</td></tr><tr><td>&ndash;cookie-domain value</td><td>domain the access cookie is available to, defaults host header</td><td></td><td>PROXY_COOKIE_DOMAIN</td></tr><tr><td>&ndash;cookie-path value</td><td>path to which cookie is available</td><td></td><td>PROXY_COOKIE_PATH</td></tr><tr><td>&ndash;cookie-access-name value</td><td>name of the cookie use to hold the access token</td><td>kc-access</td><td>PROXY_COOKIE_ACCESS_NAME</td></tr><tr><td>&ndash;cookie-refresh-name value</td><td>name of the cookie used to hold the encrypted refresh token</td><td>kc-state</td><td>PROXY_COOKIE_REFRESH_NAME</td></tr><tr><td>&ndash;cookie-oauth-state-name value</td><td>name of the cookie used to hold the Oauth request state</td><td>OAuth_Token_Request_State</td><td>COOKIE_OAUTH_STATE_NAME</td></tr><tr><td>&ndash;cookie-request-uri-name value</td><td>name of the cookie used to hold the request uri</td><td>request_uri</td><td>COOKIE_REQUEST_URI_NAME</td></tr><tr><td>&ndash;cookie-pkce-name value</td><td>name of the cookie used to hold PKCE code verifier</td><td>pkce</td><td>COOKIE_PKCE_NAME</td></tr><tr><td>&ndash;secure-cookie</td><td>enforces the cookie to be secure</td><td>true</td><td>PROXY_SECURE_COOKIE</td></tr><tr><td>&ndash;http-only-cookie</td><td>enforces the cookie is in http only mode</td><td>true</td><td>PROXY_HTTP_ONLY_COOKIE</td></tr><tr><td>&ndash;same-site-cookie value</td><td>enforces cookies to be send only to same site requests according to the policy (can be | Strict|Lax|None)</td><td>Lax</td><td>PROXY_SAME_SITE_COOKIE</td></tr><tr><td>&ndash;enable-id-token-cookie</td><td>enable id token cookie</td><td>false</td><td>PROXY_ENABLE_IDTOKEN_COOKIE</td></tr><tr><td>&ndash;match-claims value</td><td>keypair values for matching access token claims e.g. aud=myapp, iss=http://example.*</td><td></td><td></td></tr><tr><td>&ndash;add-claims value</td><td>extra claims from the token and inject into headers, e.g given_name -> X-Auth-Given-Name</td><td></td><td></td></tr><tr><td>&ndash;enable-uma-method-scope</td><td>enables passing request method as &lsquo;method:GET&rsquo; scope to keycloak for authorization</td><td>false</td><td>PROXY_ENABLE_UMA_METHOD_SCOPE</td></tr><tr><td>&ndash;tls-min-version</td><td>specify server minimal TLS version one of tlsv1.2,tlsv1.3</td><td></td><td>TLS_MIN_VERSION</td></tr><tr><td>&ndash;tls-cert</td><td>path to the TLS certificate</td><td>tls-cert</td><td></td></tr><tr><td>&ndash;tls-private-key</td><td>path to the private key for TLS</td><td>tls-private-key</td><td></td></tr><tr><td>&ndash;tls-client-certificate</td><td>path to the client certificate used for authenticating to upstream</td><td></td><td>PROXY_TLS_CLIENT_CERTIFICATE</td></tr><tr><td>&ndash;tls-client-private-key</td><td>path to the client private key, used for authentication to upstream</td><td></td><td>PROXY_TLS_CLIENT_PRIVATE_KEY</td></tr><tr><td>&ndash;tls-client-ca-certificate</td><td>path to the client CA certificate, used for verifying client certificates</td><td></td><td>PROXY_TLS_CLIENT_CA_CERTIFICATE</td></tr><tr><td>&ndash;tls-forwarding-ca-certificate</td><td>path to the CA certificate, used for generating server cert for forwarding-proxy</td><td></td><td>PROXY_TLS_FORWARDING_CA_CERTIFICATE</td></tr><tr><td>&ndash;tls-forwarding-ca-private-key</td><td>path to the CA private key, used for generating server cert for forwarding proxy</td><td></td><td>PROXY_TLS_FORWARDING_CA_PRIVATE_KEY</td></tr><tr><td>&ndash;tls-store-ca-certificate</td><td>path to the ca certificate used for verifying trusted server certificates</td><td></td><td>PROXY_TLS_STORE_CA_CERTIFICATE</td></tr><tr><td>&ndash;tls-store-client-certificate</td><td>path to the client certificate, used for authenticating to store</td><td></td><td>PROXY_TLS_STORE_CLIENT_CERTIFICATE</td></tr><tr><td>&ndash;tls-store-client-private-key</td><td>path to the client private key, used for authenticating to store</td><td></td><td>PROXY_TLS_STORE_CLIENT_PRIVATE_KEY</td></tr><tr><td>&ndash;skip-upstream-tls-verify</td><td>skip the verification of any upstream TLS</td><td>false</td><td>PROXY_SKIP_UPSTREAM_TLS_VERIFY</td></tr><tr><td>&ndash;tls-admin-cert value</td><td>path to ths TLS certificate</td><td></td><td>PROXY_TLS_ADMIN_CERTIFICATE</td></tr><tr><td>&ndash;tls-admin-private-key value</td><td>path to the private key for TLS</td><td></td><td>PROXY_TLS_ADMIN_PRIVATE_KEY</td></tr><tr><td>&ndash;tls-admin-client-ca-certificate value</td><td>path to the client certificate for outbound connections in reverse and forwarding proxy modes</td><td></td><td>PROXY_TLS_ADMIN_CLIENT_CERTIFICATE</td></tr><tr><td>&ndash;cors-origins value</td><td>origins to add to the CORE origins control (Access-Control-Allow-Origin)</td><td></td><td></td></tr><tr><td>&ndash;cors-methods value</td><td>methods permitted in the access control (Access-Control-Allow-Methods)</td><td></td><td></td></tr><tr><td>&ndash;cors-headers value</td><td>set of headers to add to the CORS access control (Access-Control-Allow-Headers)</td><td></td><td></td></tr><tr><td>&ndash;cors-exposed-headers value</td><td>expose cors headers access control (Access-Control-Expose-Headers)</td><td></td><td></td></tr><tr><td>&ndash;cors-credentials</td><td>credentials access control header (Access-Control-Allow-Credentials)</td><td>false</td><td>PROXY_CORS_CREDENTIALS</td></tr><tr><td>&ndash;cors-max-age value</td><td>max age applied to cors headers (Access-Control-Max-Age)</td><td>0s</td><td>PROXY_CORS_MAX_AGE</td></tr><tr><td>&ndash;hostnames value</td><td>list of hostnames the service will respond to</td><td></td><td></td></tr><tr><td>&ndash;store-url value</td><td>url for the storage subsystem, e.g redis://user:secret@localhost:6379/0?protocol=3, only supported is redis usig redis uri spec</td><td></td><td>PROXY_STORE_URL</td></tr><tr><td>&ndash;encryption-key value</td><td>encryption key used to encryption the session state</td><td></td><td>PROXY_ENCRYPTION_KEY</td></tr><tr><td>&ndash;enable-hmac</td><td>enable creating hmac for forwarded requests and verification on incoming requests</td><td>false</td><td>PROXY_ENABLE_HMAC</td></tr><tr><td>&ndash;no-proxy value</td><td>do not proxy requests to upstream, useful for forward-auth usage (with nginx, traefik)</td><td></td><td>PROXY_NO_PROXY</td></tr><tr><td>&ndash;no-redirects</td><td>do not have back redirects when no authentication is present, 401 them</td><td>false</td><td>PROXY_NO_REDIRECTS</td></tr><tr><td>&ndash;skip-token-verification</td><td>TESTING ONLY; bypass token verification, only expiration and roles enforced</td><td>false</td><td>PROXY_SKIP_TOKEN_VERIFICATION</td></tr><tr><td>&ndash;skip-access-token-issuer-check</td><td>according RFC issuer should not be checked on access token, this will be default true in future</td><td>true</td><td>PROXY_SKIP_ACCESS_TOKEN_ISSUER_CHECK</td></tr><tr><td>&ndash;skip-access-token-clientid-check</td><td>according RFC client id should not be checked on access token, this will be default true in future</td><td>true</td><td>PROXY_SKIP_ACCESS_TOKEN_CLIENT_ID_CHECK</td></tr><tr><td>&ndash;skip-authorization-header-identity</td><td>skip authorization header identity, means that we won&rsquo;t be extracting token from authorization header, only from cookie or fail if even no cookie present (e.g. if authorization header is used only by application behind gatekeeper)"`</td><td>false</td><td>PROXY_SKIP_AUTHORIZATION_HEADER_IDENTITY</td></tr><tr><td>&ndash;upstream-keepalives</td><td>enables or disables the keepalive connections for upstream endpoint</td><td>true</td><td>PROXY_UPSTREAM_KEEPALIVES</td></tr><tr><td>&ndash;upstream-timeout value</td><td>maximum amount of time a dial will wait for a connect to complete</td><td>10s</td><td>PROXY_UPSTREAM_TIMEOUT</td></tr><tr><td>&ndash;upstream-keepalive-timeout value</td><td>specifies the keep-alive period for an active network connection</td><td>10s</td><td>PROXY_UPSTREAM_KEEPALIVE_TIMEOUT</td></tr><tr><td>&ndash;upstream-tls-handshake-timeout value</td><td>the timeout placed on the tls handshake for upstream</td><td>10s</td><td>PROXY_UPSTREAM_TLS_HANDSHAKE_TIMEOUT</td></tr><tr><td>&ndash;upstream-response-header-timeout value</td><td>the timeout placed on the response header for upstream</td><td>10s</td><td>PROXY_UPSTREAM_RESPONSE_HEADER_TIMEOUT</td></tr><tr><td>&ndash;upstream-expect-continue-timeout value</td><td>the timeout placed on the expect continue for upstream</td><td>10s</td><td>PROXY_UPSTREAM_EXPECT_CONTINUE_TIMEOUT</td></tr><tr><td>&ndash;verbose</td><td>switch on debug / verbose logging</td><td>false</td><td>PROXY_VERBOSE</td></tr><tr><td>&ndash;enabled-proxy-protocol</td><td>enable proxy protocol</td><td>false</td><td>PROXY_ENABLE_PROXY_PROTOCOL</td></tr><tr><td>&ndash;max-idle-connections value</td><td>max idle upstream / keycloak connections to keep alive, ready for reuse</td><td>0</td><td>PROXY_MAX_IDLE_CONNS</td></tr><tr><td>&ndash;max-idle-connections-per-host value</td><td>limits the number of idle connections maintained per host</td><td>0</td><td>PROXY_MAX_IDLE_CONNS_PER_HOST</td></tr><tr><td>&ndash;server-grace-timeout value</td><td>the server graceful period before shutdown</td><td>10s</td><td>PROXY_SERVER_GRACE_TIMEOUT</td></tr><tr><td>&ndash;server-read-timeout value</td><td>the server read timeout on the http server</td><td>10s</td><td>PROXY_SERVER_READ_TIMEOUT</td></tr><tr><td>&ndash;server-write-timeout value</td><td>the server write timeout on the http server</td><td>10s</td><td>PROXY_SERVER_WRITE_TIMEOUT</td></tr><tr><td>&ndash;server-idle-timeout value</td><td>the server idle timeout on the http server</td><td>2m0s</td><td>PROXY_SERVER_IDLE_TIMEOUT</td></tr><tr><td>&ndash;use-letsencrypt</td><td>use letsencrypt for certificates</td><td>false</td><td>PROXY_USE_LETS_ENCRYPT</td></tr><tr><td>&ndash;letsencrypt-cache-dir value</td><td>path where cached letsencrypt certificates are stored</td><td>./cache/</td><td>PROXY_LETS_ENCRYPT_CACHE_DIR</td></tr><tr><td>&ndash;sign-in-page value</td><td>path to custom template displayed for signin</td><td></td><td>PROXY_SIGN_IN_PAGE</td></tr><tr><td>&ndash;register-page value</td><td>path to custom template displayed for registration</td><td></td><td>PROXY_REGISTER_PAGE</td></tr><tr><td>&ndash;forbidden-page value</td><td>path to custom template used for access forbidden</td><td></td><td>PROXY_FORBIDDEN_PAGE</td></tr><tr><td>&ndash;error-page value</td><td>path to custom template displayed for http.StatusBadRequest</td><td></td><td>PROXY_ERROR_PAGE</td></tr><tr><td>&ndash;tags value</td><td>keypairs passed to the templates at render,e.g title=Page</td><td></td><td></td></tr><tr><td>&ndash;forwarding-grant-type value</td><td>grant-type to use when logging into the openid provider, can be one of password, client_credentials</td><td>password</td><td>PROXY_FORWARDING_GRANT_TYPE</td></tr><tr><td>&ndash;forwarding-username value</td><td>username to use when logging into the openid provider</td><td></td><td>PROXY_FORWARDING_USERNAME</td></tr><tr><td>&ndash;forwarding-password value</td><td>password to use when logging into the openid provider</td><td></td><td>PROXY_FORWARDING_PASSWORD</td></tr><tr><td>&ndash;enable-signing</td><td>enable signing of requests to upstream, when in reverse proxy mode</td><td>false</td><td>PROXY_ENABLE_SIGNING</td></tr><tr><td>&ndash;enable-signing-hmac</td><td>enable signing of requests to upstream, when in reverse proxy mode with HMAC</td><td>false</td><td>PROXY_ENABLE_SIGNING_HMAC</td></tr><tr><td>&ndash;forwarding-domains value</td><td>list of domains which should be signed; everything else is relayed unsigned</td><td></td><td></td></tr><tr><td>&ndash;enable-x-forwarded-headers</td><td>enable using X-Forwarded headers (host and proto) for callback and authorization url</td><td>false</td><td>PROXY_ENABLE_X_FORWARDED_HEADERS</td></tr><tr><td>&ndash;enable-optional-encryption</td><td>enable optional decryption for access tokens, id tokens, refresh tokens</td><td>false</td><td>PROXY_ENABLE_OPTIONAL_ENCRYPTION</td></tr><tr><td>&ndash;enable-logout-auth</td><td>enable authentication on logout handler</td><td>true</td><td>PROXY_ENABLE_LOGOUT_AUTH</td></tr><tr><td>&ndash;enable-request-upstream-compression</td><td>enables asking upstream for compression, by adding Accept-Encoding: gzip header and decompressing response from upstream</td><td>true</td><td>PROXY_ENABLE_REQUEST_UPSTREAM_COMPRESSION</td></tr><tr><td>&ndash;enable-accept-encoding-header</td><td>pass Accept-Encoding header from client to upstream</td><td>false</td><td>PROXY_ENABLE_ACCEPT_ENCODING_HEADER</td></tr><tr><td>&ndash;enable-loa</td><td>enable level of authentication</td><td>false</td><td></td></tr><tr><td>&ndash;disable-all-logging</td><td>disables all logging to stdout and stderr</td><td>false</td><td>PROXY_DISABLE_ALL_LOGGING</td></tr><tr><td>&ndash;help, -h</td><td>show help</td><td></td><td></td></tr><tr><td>&ndash;version, -v</td><td>print the version</td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td></tr></tbody></table><footer class=footline></footer></article></div></main></div><aside id=R-sidebar class=default-animation><div id=R-header-topbar class=default-animation></div><div id=R-header-wrapper class=default-animation><div id=R-header class=default-animation><a id=logo href=/><img src=/logo/logo.svg width=200><div id=logo-text>gatekeeper</div></a></div><search><form action=/gatekeeper/search/index.html method=get><div class="searchbox default-animation"><button class=search-detail type=submit title="Search (CTRL+ALT+f)"><i class="fas fa-search"></i></button>
<label class=a11y-only for=R-search-by>Search</label>
<input data-search-input id=R-search-by name=search-by class=search-by type=search placeholder=Search...>
<button class=search-clear type=button data-search-clear title="Clear search"><i class="fas fa-times" title="Clear search"></i></button></div></form></search></div><div id=R-homelinks class=default-animation><div class="R-menu-divider default-animation"><hr class=padding></div><div class="R-sidebarmenu R-shortcutmenu-homelinks"><ul class="space collapsible-menu"></ul></div><div class="R-menu-divider default-animation"><hr class=padding></div><div class="R-sidebarmenu R-shortcutmenu-headercontrols"><ul></ul></div><div class="R-menu-divider default-animation"><hr class=padding></div></div><div id=R-content-wrapper class=highlightable><div class="R-sidebarmenu R-shortcutmenu-main"><ul class="enlarge morespace collapsible-menu"><li class=active data-nav-id=/gatekeeper/configuration/index.html><a class=padding href=/gatekeeper/configuration/index.html>Configuration Reference</a></li></ul></div><div class="R-sidebarmenu R-shortcutmenu-shortcuts"><div class="nav-title padding">More</div><ul class="space collapsible-menu"><li data-nav-id=https://github.com/gogatekeeper/gatekeeper><a class=padding href=https://github.com/gogatekeeper/gatekeeper rel=external target=_blank><i class='fab fa-github fa-fw'></i> Github repo</a></li><li data-nav-id=https://discord.gg/zRqVXXTMCv><a class=padding href=https://discord.gg/zRqVXXTMCv rel=external target=_blank><i class='fab fa-discord fa-fw'></i> Join us on Discord</a></li><li data-nav-id=https://www.keycloak.org/documentation><a class=padding href=https://www.keycloak.org/documentation rel=external target=_blank><i class='fas fa-code fa-fw'></i> Keycloak Docs</a></li></ul></div><div id=R-footer-margin></div><div class="R-menu-divider default-animation"><hr class=padding></div><div class="R-sidebarmenu R-shortcutmenu-footercontrols"><ul></ul></div><div id=R-footer><p>Built with <a href=https://github.com/McShelby/hugo-theme-relearn title=love><i class="fas fa-heart"></i></a> by <a href=https://gohugo.io/>Hugo</a></p></div></div></aside><script src=/gatekeeper/js/clipboard/clipboard.min.js?1761696706 defer></script><script src=/gatekeeper/js/perfect-scrollbar/perfect-scrollbar.min.js?1761696706 defer></script><script src=/gatekeeper/js/theme.min.js?1761696706 defer></script></body></html>